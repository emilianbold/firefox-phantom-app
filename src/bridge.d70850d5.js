(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var r={},i={},o=t.parcelRequirea886;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequirea886=o),o.register("drovu",(function(t,n){var r=o("cuInp"),i=o("1vgyn"),a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t.exports,"__esModule",{value:!0});var s=o("9nGNd"),u=a(o("82R7D")),c=a(o("lA8yq")),l=o("iZQgn"),d=function(t){r.inherits(o,t);var n=r.createSuper(o);function o(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.jsonRpcStreamName,s=void 0===a?"metamask-provider":a,c=i.logger,d=void 0===c?console:c,f=i.maxEventListeners,h=void 0===f?100:f,p=i.shouldSendMetadata,v=void 0===p||p;if(r.classCallCheck(this,o),(t=n.call(this,e,{jsonRpcStreamName:s,logger:d,maxEventListeners:h}))._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},t.networkVersion=null,t.isMetaMask=!0,t._sendSync=t._sendSync.bind(r.assertThisInitialized(t)),t.enable=t.enable.bind(r.assertThisInitialized(t)),t.send=t.send.bind(r.assertThisInitialized(t)),t.sendAsync=t.sendAsync.bind(r.assertThisInitialized(t)),t._warnOfDeprecation=t._warnOfDeprecation.bind(r.assertThisInitialized(t)),t._metamask=t._getExperimentalApi(),t._jsonRpcConnection.events.on("notification",(function(e){var n=e.method;l.EMITTED_NOTIFICATIONS.includes(n)&&(t.emit("data",e),t.emit("notification",e.params.result))})),v)if("complete"===document.readyState)u.default(t._rpcEngine,t._log);else{var m=function(){u.default(t._rpcEngine,t._log),window.removeEventListener("DOMContentLoaded",m)};window.addEventListener("DOMContentLoaded",m)}return t}return r.createClass(o,[{key:"sendAsync",value:function(e,t){this._rpcRequest(e,t)}},{key:"addListener",value:function(e,t){return this._warnOfDeprecation(e),r.get(r.getPrototypeOf(o.prototype),"addListener",this).call(this,e,t)}},{key:"on",value:function(e,t){return this._warnOfDeprecation(e),r.get(r.getPrototypeOf(o.prototype),"on",this).call(this,e,t)}},{key:"once",value:function(e,t){return this._warnOfDeprecation(e),r.get(r.getPrototypeOf(o.prototype),"once",this).call(this,e,t)}},{key:"prependListener",value:function(e,t){return this._warnOfDeprecation(e),r.get(r.getPrototypeOf(o.prototype),"prependListener",this).call(this,e,t)}},{key:"prependOnceListener",value:function(e,t){return this._warnOfDeprecation(e),r.get(r.getPrototypeOf(o.prototype),"prependOnceListener",this).call(this,e,t)}},{key:"_handleDisconnect",value:function(e,t){r.get(r.getPrototypeOf(o.prototype),"_handleDisconnect",this).call(this,e,t),this.networkVersion&&!e&&(this.networkVersion=null)}},{key:"_warnOfDeprecation",value:function(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(c.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}},{key:"enable",value:function(){var e=this;return this._sentWarnings.enable||(this._log.warn(c.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((function(t,n){try{e._rpcRequest({method:"eth_requestAccounts",params:[]},l.getRpcPromiseCallback(t,n))}catch(e){n(e)}}))}},{key:"send",value:function(e,t){var n=this;return this._sentWarnings.send||(this._log.warn(c.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise((function(r,i){try{n._rpcRequest({method:e,params:t},l.getRpcPromiseCallback(r,i,!1))}catch(e){i(e)}}))}},{key:"_sendSync",value:function(e){var t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,l.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(c.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}},{key:"_getExperimentalApi",value:function(){var t,n=this;return new Proxy({isUnlocked:(t=r.asyncToGenerator(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_this,_this._state.initialized){e.next=4;break}return e.next=4,new Promise((function(e){n.on("_initialized",(function(){return e()}))}));case 4:return e.abrupt("return",_this._state.isUnlocked);case 5:case"end":return e.stop()}}),t)}))),function(){return t.apply(this,arguments)}),requestBatch:function(t){var n=r.asyncToGenerator(e(i).mark((function t(n){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_this,Array.isArray(n)){e.next=3;break}throw s.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:n});case 3:return e.abrupt("return",new Promise((function(e,t){r._rpcRequest(n,l.getRpcPromiseCallback(e,t))})));case 4:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}()},{get:function(e,t){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s;if(!n._sentWarnings.experimentalMethods){n._log.warn(c.default.warnings.experimentalMethods),n._sentWarnings.experimentalMethods=!0}return(s=Reflect).get.apply(s,[e,t].concat(r.toConsumableArray(o)))}})}}]),o}(a(o("cWb80")).default);t.exports.default=d})),o.register("9nGNd",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getMessageFromCode=e.exports.serializeError=e.exports.EthereumProviderError=e.exports.EthereumRpcError=e.exports.ethErrors=e.exports.errorCodes=void 0;var n=o("blF9I");Object.defineProperty(e.exports,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(e.exports,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});var r=o("3vWzg");Object.defineProperty(e.exports,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e.exports,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});var i=o("9PwDA");Object.defineProperty(e.exports,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});var a=o("vXpdf");Object.defineProperty(e.exports,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})})),o.register("blF9I",(function(e,t){var n=o("cuInp");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EthereumProviderError=e.exports.EthereumRpcError=void 0;var r=o("bLAQ9"),i=function(e){n.inherits(i,e);var t=n.createSuper(i);function i(e,r,o){var a;if(n.classCallCheck(this,i),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string.');return(a=t.call(this,r)).code=e,void 0!==o&&(a.data=o),a}return n.createClass(i,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return r.default(this.serialize(),s,2)}}]),i}(n.wrapNativeSuper(Error));e.exports.EthereumRpcError=i;var a=function(e){n.inherits(r,e);var t=n.createSuper(r);function r(e,i,o){if(n.classCallCheck(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return t.call(this,e,i,o)}return r}(i);function s(e,t){if("[Circular]"!==t)return t}e.exports.EthereumProviderError=a})),o.register("bLAQ9",(function(e,t){e.exports=s,s.default=s,s.stable=d,s.stableStringify=d;var n="[...]",r="[Circular]",i=[],o=[];function a(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,t,n,r){var s;void 0===r&&(r=a()),c(e,"",0,[],void 0,0,r);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,h(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var u=i.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function u(e,t,n,r){var a=Object.getOwnPropertyDescriptor(r,n);void 0!==a.get?a.configurable?(Object.defineProperty(r,n,{value:e}),i.push([r,n,t,a])):o.push([t,n,e]):(r[n]=e,i.push([r,n,t]))}function c(e,t,i,o,a,s,l){var d;if(s+=1,"object"==typeof e&&null!==e){for(d=0;d<o.length;d++)if(o[d]===e)return void u(r,e,t,a);if(void 0!==l.depthLimit&&s>l.depthLimit)return void u(n,e,t,a);if(void 0!==l.edgesLimit&&i+1>l.edgesLimit)return void u(n,e,t,a);if(o.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,o,e,s,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var h=f[d];c(e[h],h,d,o,e,s,l)}}o.pop()}}function l(e,t){return e<t?-1:e>t?1:0}function d(e,t,n,r){void 0===r&&(r=a());var s,u=f(e,"",0,[],void 0,0,r)||e;try{s=0===o.length?JSON.stringify(u,t,n):JSON.stringify(u,h(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var c=i.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return s}function f(e,t,o,a,s,c,d){var h;if(c+=1,"object"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void u(r,e,t,s);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==d.depthLimit&&c>d.depthLimit)return void u(n,e,t,s);if(void 0!==d.edgesLimit&&o+1>d.edgesLimit)return void u(n,e,t,s);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)f(e[h],h,h,a,e,c,d);else{var p={},v=Object.keys(e).sort(l);for(h=0;h<v.length;h++){var m=v[h];f(e[m],m,h,a,e,c,d),p[m]=e[m]}if(void 0===s)return p;i.push([s,t,e]),s[t]=p}a.pop()}}function h(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}})),o.register("3vWzg",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.serializeError=e.exports.isValidCode=e.exports.getMessageFromCode=e.exports.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=o("vXpdf"),r=o("blF9I"),i=n.errorCodes.rpc.internal,a="Unspecified error message. This is a bug, please report it.",s={code:i,message:u(i)};function u(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(Number.isInteger(t)){var i=t.toString();if(f(n.errorValues,i))return n.errorValues[i].message;if(l(t))return e.exports.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function c(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!n.errorValues[t]||!!l(e)}function l(e){return e>=-32099&&e<=-32e3}function d(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.exports.getMessageFromCode=u,e.exports.isValidCode=c,e.exports.serializeError=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.fallbackError,a=void 0===o?s:o,l=i.shouldIncludeStack,h=void 0!==l&&l;if(!a||!Number.isInteger(a.code)||"string"!=typeof a.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();var p={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&c(e.code)){var v=e;p.code=v.code,v.message&&"string"==typeof v.message?(p.message=v.message,f(v,"data")&&(p.data=v.data)):(p.message=u(p.code),p.data={originalError:d(e)})}else{p.code=a.code;var m=null===(t=e)||void 0===t?void 0:t.message;p.message=m&&"string"==typeof m?m:a.message,p.data={originalError:d(e)}}var g=null===(n=e)||void 0===n?void 0:n.stack;return h&&e&&g&&"string"==typeof g&&(p.stack=g),p}})),o.register("vXpdf",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.errorValues=e.exports.errorCodes=void 0,e.exports.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},e.exports.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}})),o.register("9PwDA",(function(e,t){var n=o("cuInp");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ethErrors=void 0;var r=o("blF9I"),i=o("3vWzg"),a=o("vXpdf");function s(e,t){var o=n.slicedToArray(c(t),2),a=o[0],s=o[1];return new r.EthereumRpcError(e,a||i.getMessageFromCode(e),s)}function u(e,t){var o=n.slicedToArray(c(t),2),a=o[0],s=o[1];return new r.EthereumProviderError(e,a||i.getMessageFromCode(e),s)}function c(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){var t=e.message,n=e.data;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}e.exports.ethErrors={rpc:{parse:function(e){return s(a.errorCodes.rpc.parse,e)},invalidRequest:function(e){return s(a.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return s(a.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return s(a.errorCodes.rpc.methodNotFound,e)},internal:function(e){return s(a.errorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:function(e){return s(a.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return s(a.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return s(a.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return s(a.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return s(a.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return s(a.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return u(a.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return u(a.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return u(a.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return u(a.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return u(a.errorCodes.provider.chainDisconnected,e)},custom:function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var t=e.code,n=e.message,i=e.data;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new r.EthereumProviderError(t,n,i)}}}})),o.register("82R7D",(function(t,n){var r=o("cuInp"),i=o("1vgyn"),a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t.exports,"__esModule",{value:!0});var s=a(o("lA8yq")),u=o("iZQgn");function c(){return(c=r.asyncToGenerator(e(i).mark((function t(n,r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:o=e.sent,n.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:o},u.NOOP),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.error({message:s.default.errors.sendSiteMetadata(),originalError:e.t0});case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=r.asyncToGenerator(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f(window),e.next=3,h(window);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,icon:e.t1});case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function f(e){var t=e.document,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;var r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}function h(e){return p.apply(this,arguments)}function p(){return(p=r.asyncToGenerator(e(i).mark((function t(n){var r,o,a,s,u,c,l,d;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.document,o=r.querySelectorAll('head > link[rel~="icon"]'),a=!0,s=!1,u=void 0,e.prev=3,c=o[Symbol.iterator]();case 5:if(a=(l=c.next()).done){e.next=17;break}if(d=l.value,e.t0=d,!e.t0){e.next=12;break}return e.next=11,v(d.href);case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=14;break}return e.abrupt("return",d.href);case 14:a=!0,e.next=5;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(3),s=!0,u=e.t1;case 23:e.prev=23,e.prev=24,a||null==c.return||c.return();case 26:if(e.prev=26,!s){e.next=29;break}throw u;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return e.abrupt("return",null);case 32:case"end":return e.stop()}}),t,null,[[3,19,23,31],[24,,26,30]])})))).apply(this,arguments)}function v(e){return new Promise((function(t,n){try{var r=document.createElement("img");r.onload=function(){return t(!0)},r.onerror=function(){return t(!1)},r.src=e}catch(e){n(e)}}))}t.exports.default=function(e,t){return c.apply(this,arguments)}})),o.register("lA8yq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});e.exports.default={errors:{disconnected:function(){return"MetaMask: Disconnected from chain. Attempting to connect."},permanentlyDisconnected:function(){return"MetaMask: Disconnected from MetaMask background. Page reload required."},sendSiteMetadata:function(){return"MetaMask: Failed to send site metadata. This is an internal error, please report this bug."},unsupportedSync:function(e){return"MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter.")},invalidDuplexStream:function(){return"Must provide a Node.js-style duplex stream."},invalidRequestArgs:function(){return"Expected a single, non-array, object argument."},invalidRequestMethod:function(){return"'args.method' must be a non-empty string."},invalidRequestParams:function(){return"'args.params' must be an object or array if provided."},invalidLoggerObject:function(){return"'args.logger' must be an object if provided."},invalidLoggerMethod:function(e){return"'args.logger' must include required method '".concat(e,"'.")}},info:{connected:function(e){return'MetaMask: Connected to chain with ID "'.concat(e,'".')}},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}})),o.register("iZQgn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EMITTED_NOTIFICATIONS=e.exports.NOOP=e.exports.logStreamDisconnectWarning=e.exports.getRpcPromiseCallback=e.exports.createErrorMiddleware=void 0;var n=o("9nGNd");e.exports.createErrorMiddleware=function(e){return function(t,r,i){"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((function(t){var n=r.error;return n?(e.error("MetaMask - RPC Error: ".concat(n.message),n),t()):t()}))}};e.exports.getRpcPromiseCallback=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)}},e.exports.logStreamDisconnectWarning=function(e,t,n,r){var i='MetaMask: Lost connection to "'.concat(t,'".');(null==n?void 0:n.stack)&&(i+="\n".concat(n.stack)),e.warn(i),r&&r.listenerCount("error")>0&&r.emit("error",i)};e.exports.NOOP=function(){},e.exports.EMITTED_NOTIFICATIONS=["eth_subscription"]})),o.register("cWb80",(function(t,n){var r=o("cuInp"),i=o("1vgyn"),a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t.exports,"__esModule",{value:!0});var s=a(o("j5BfR")),u=o("e0QoV"),c=o("kTYs3"),l=a(o("5ErS3")),d=a(o("lGecB")),f=a(o("9B58V")),h=o("9nGNd"),p=o("7wAP0"),v=a(o("lA8yq")),m=o("iZQgn"),g=function(t){r.inherits(o,t);var n=r.createSuper(o);function o(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.jsonRpcStreamName,d=void 0===a?"metamask-provider":a,f=i.logger,h=void 0===f?console:f,g=i.maxEventListeners,b=void 0===g?100:g;if(r.classCallCheck(this,o),t=n.call(this),!p.duplex(e))throw new Error(v.default.errors.invalidDuplexStream());t._log=h,t.setMaxListeners(b),t._state=Object.assign({},o._defaultState),t.selectedAddress=null,t.chainId=null,t._handleAccountsChanged=t._handleAccountsChanged.bind(r.assertThisInitialized(t)),t._handleConnect=t._handleConnect.bind(r.assertThisInitialized(t)),t._handleChainChanged=t._handleChainChanged.bind(r.assertThisInitialized(t)),t._handleDisconnect=t._handleDisconnect.bind(r.assertThisInitialized(t)),t._handleStreamDisconnect=t._handleStreamDisconnect.bind(r.assertThisInitialized(t)),t._handleUnlockStateChanged=t._handleUnlockStateChanged.bind(r.assertThisInitialized(t)),t._rpcRequest=t._rpcRequest.bind(r.assertThisInitialized(t)),t.request=t.request.bind(r.assertThisInitialized(t));var y=new l.default;s.default(e,y,e,t._handleStreamDisconnect.bind(r.assertThisInitialized(t),"MetaMask")),t.on("connect",(function(){t._state.isConnected=!0})),t._jsonRpcConnection=c.createStreamMiddleware(),s.default(t._jsonRpcConnection.stream,y.createStream(d),t._jsonRpcConnection.stream,t._handleStreamDisconnect.bind(r.assertThisInitialized(t),"MetaMask RpcProvider"));var w=new u.JsonRpcEngine;return w.push(u.createIdRemapMiddleware()),w.push(m.createErrorMiddleware(t._log)),w.push(t._jsonRpcConnection.middleware),t._rpcEngine=w,t._initializeState(),t._jsonRpcConnection.events.on("notification",(function(n){var r=n.method,i=n.params;"metamask_accountsChanged"===r?t._handleAccountsChanged(i):"metamask_unlockStateChanged"===r?t._handleUnlockStateChanged(i):"metamask_chainChanged"===r?t._handleChainChanged(i):m.EMITTED_NOTIFICATIONS.includes(r)?t.emit("message",{type:r,data:i}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(v.default.errors.permanentlyDisconnected()))})),t}return r.createClass(o,[{key:"isConnected",value:function(){return this._state.isConnected}},{key:"request",value:function(t){var n=this;return r.asyncToGenerator(e(i).mark((function r(){var o,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"object"==typeof t&&!Array.isArray(t)){e.next=2;break}throw h.ethErrors.rpc.invalidRequest({message:v.default.errors.invalidRequestArgs(),data:t});case 2:if(o=t.method,a=t.params,"string"==typeof o&&0!==o.length){e.next=5;break}throw h.ethErrors.rpc.invalidRequest({message:v.default.errors.invalidRequestMethod(),data:t});case 5:if(void 0===a||Array.isArray(a)||"object"==typeof a&&null!==a){e.next=7;break}throw h.ethErrors.rpc.invalidRequest({message:v.default.errors.invalidRequestParams(),data:t});case 7:return e.abrupt("return",new Promise((function(e,t){n._rpcRequest({method:o,params:a},m.getRpcPromiseCallback(e,t))})));case 8:case"end":return e.stop()}}),r)})))()}},{key:"_initializeState",value:function(){return r.asyncToGenerator(e(i).mark((function t(){var n,r,o,a,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:"metamask_getProviderState"});case 3:n=e.sent,r=n.accounts,o=n.chainId,a=n.isUnlocked,s=n.networkVersion,this.emit("connect",{chainId:o}),this._handleChainChanged({chainId:o,networkVersion:s}),this._handleUnlockStateChanged({accounts:r,isUnlocked:a}),this._handleAccountsChanged(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e.t0);case 17:return e.prev=17,this._state.initialized=!0,this.emit("_initialized"),e.finish(17);case 21:case"end":return e.stop()}}),t,this,[[0,14,17,21]])})).bind(this))()}},{key:"_rpcRequest",value:function(e,t){var n=t;if(!Array.isArray(e)){var r=this;return e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(n=function(n,i){r._handleAccountsChanged(i.result||[],"eth_accounts"===e.method),t(n,i)}),this._rpcEngine.handle(e,n)}return this._rpcEngine.handle(e,n)}},{key:"_handleConnect",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(v.default.info.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var n;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(n=new h.EthereumRpcError(1013,t||v.default.errors.disconnected()),this._log.debug(n)):(n=new h.EthereumRpcError(1011,t||v.default.errors.permanentlyDisconnected()),this._log.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n))}},{key:"_handleStreamDisconnect",value:function(e,t){m.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}},{key:"_handleChainChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId,n=e.networkVersion;t&&"string"==typeof t&&t.startsWith("0x")&&n&&"string"==typeof n?"loading"===n?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:t,networkVersion:n})}},{key:"_handleAccountsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),n=[]);var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if("string"!=typeof u){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}f.default(this._state.accounts,n)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n),this._state.accounts=n,this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null),this._state.initialized&&this.emit("accountsChanged",n))}},{key:"_handleUnlockStateChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,n=e.isUnlocked;"boolean"==typeof n?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(t||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}]),o}(d.default);t.exports.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}})),o.register("j5BfR",(function(e,t){var n=o("j2G2N"),r=o("6AWDh"),i=o("7a0vf"),a=o("9nnKr"),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,n,o){o=r(o);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return o(e);l=!0,o()}));var d=!1;return function(t){if(!l&&!d)return d=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void o(t||new Error("stream was destroyed"))}},d=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&r.forEach(d),a||(r.forEach(d),n(e))}))}));return t.reduce(f)}})),o.register("6AWDh",(function(e,t){var n=o("kJsJS");function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=n(r),e.exports.strict=n(i),r.proto=r((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))})),o.register("kJsJS",(function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}return Object.keys(t).forEach((function(e){r[e]=t[e]})),r}})),o.register("7a0vf",(function(e,t){var n=o("j2G2N"),r=o("6AWDh"),i=function(){},a=function(e,t,o){if("function"==typeof t)return a(e,null,t);t||(t={}),o=r(o||i);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,d=!1,f=function(){e.writable||h()},h=function(){l=!1,c||o.call(e)},p=function(){c=!1,l||o.call(e)},v=function(t){o.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){o.call(e,t)},g=function(){n.nextTick(b)},b=function(){if(!d)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:o.call(e,new Error("premature close"))},y=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?l&&!s&&(e.on("end",f),e.on("close",f)):(e.on("complete",h),e.on("abort",g),e.req?y():e.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",v),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",g),function(){d=!0,e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",y),e.req&&e.req.removeListener("finish",h),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("exit",v),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=a})),o.register("e0QoV",(function(e,t){"use strict";var n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e.exports&&e.exports.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(e.exports,"__esModule",{value:!0}),r(o("9D0s3"),e.exports),r(o("e9C2f"),e.exports),r(o("4t8Op"),e.exports),r(o("lDGkz"),e.exports),r(o("dP8Qn"),e.exports),r(o("5zrNA"),e.exports)})),o.register("9D0s3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createIdRemapMiddleware=void 0;var n=o("lDGkz");e.exports.createIdRemapMiddleware=function(){return function(e,t,r,i){var o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((function(n){e.id=o,t.id=o,n()}))}}})),o.register("lDGkz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getUniqueId=void 0;var n=4294967295,r=Math.floor(Math.random()*n);e.exports.getUniqueId=function(){return r=(r+1)%n}})),o.register("e9C2f",(function(t,n){var r=o("cuInp"),i=o("1vgyn");Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.createAsyncMiddleware=void 0,t.exports.createAsyncMiddleware=function(t){return r.asyncToGenerator(e(i).mark((function n(o,a,s,u){var c,l,d,f,h;return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=new Promise((function(e){c=e})),d=null,f=!1,h=r.asyncToGenerator(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=!0,s((function(e){d=e,c()})),e.next=4,l;case 4:case"end":return e.stop()}}),t)}))),n.prev=5,n.next=8,t(o,a,h);case 8:if(!f){n.next=14;break}return n.next=11,l;case 11:d(null),n.next=15;break;case 14:u(null);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(5),d?d(n.t0):u(n.t0);case 20:case"end":return n.stop()}}),n,null,[[5,17]])})))}})),o.register("4t8Op",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createScaffoldMiddleware=void 0,e.exports.createScaffoldMiddleware=function(e){return function(t,n,r,i){var o=e[t.method];return void 0===o?r():"function"==typeof o?o(t,n,r,i):(n.result=o,i())}}})),o.register("dP8Qn",(function(t,n){var r=o("cuInp"),i=o("1vgyn"),a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.JsonRpcEngine=void 0;var s=a(o("lGecB")),u=o("9nGNd"),c=function(t){r.inherits(o,t);var n=r.createSuper(o);function o(){var e;return r.classCallCheck(this,o),(e=n.call(this))._middleware=[],e}return r.createClass(o,[{key:"push",value:function(e){this._middleware.push(e)}},{key:"handle",value:function(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}},{key:"asMiddleware",value:function(){var t,n=this;return t=r.asyncToGenerator(e(i).mark((function t(a,s,u,c){var l,d,f,h;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,o._runAllMiddleware(a,s,n._middleware);case 4:if(t.t1=t.sent,l=t.t0.slicedToArray.call(t.t0,t.t1,3),d=l[0],f=l[1],h=l[2],!f){t.next=13;break}return t.next=12,o._runReturnHandlers(h);case 12:return t.abrupt("return",c(d));case 13:return t.abrupt("return",u(function(t){var n=r.asyncToGenerator(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o._runReturnHandlers(h);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 8:return e.abrupt("return",n());case 9:case"end":return e.stop()}}),t,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}()));case 16:return t.prev=16,t.t2=t.catch(0),t.abrupt("return",c(t.t2));case 19:case"end":return t.stop()}}),t,null,[[0,16]])}))),function(){return t.apply(this,arguments)}}},{key:"_handleBatch",value:function(t,n){return r.asyncToGenerator(e(i).mark((function r(){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map(this._promiseHandle.bind(this)));case 3:if(o=e.sent,!n){e.next=6;break}return e.abrupt("return",n(null,o));case 6:return e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(0),!n){e.next=13;break}return e.abrupt("return",n(e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),r,this,[[0,9]])})).bind(this))()}},{key:"_promiseHandle",value:function(e){var t=this;return new Promise((function(n){t._handle(e,(function(e,t){n(t)}))}))}},{key:"_handle",value:function(t,n){return r.asyncToGenerator(e(i).mark((function o(){var a,s,c,l,d;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!Array.isArray(t)&&"object"==typeof t){e.next=3;break}return a=new u.EthereumRpcError(u.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: ".concat(void 0===t?"undefined":r.typeOf(t)),{request:t}),e.abrupt("return",n(a,{id:void 0,jsonrpc:"2.0",error:a}));case 3:if("string"==typeof t.method){e.next=6;break}return s=new u.EthereumRpcError(u.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: ".concat(r.typeOf(t.method)),{request:t}),e.abrupt("return",n(s,{id:t.id,jsonrpc:"2.0",error:s}));case 6:return c=Object.assign({},t),l={id:c.id,jsonrpc:c.jsonrpc},d=null,e.prev=9,e.next=12,this._processRequest(c,l);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),d=e.t0;case 17:return d&&(delete l.result,l.error||(l.error=u.serializeError(d))),e.abrupt("return",n(d,l));case 19:case"end":return e.stop()}}),o,this,[[9,14]])})).bind(this))()}},{key:"_processRequest",value:function(t,n){return r.asyncToGenerator(e(i).mark((function a(){var s,u,c,l;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,o._runAllMiddleware(t,n,this._middleware);case 3:return e.t1=e.sent,s=e.t0.slicedToArray.call(e.t0,e.t1,3),u=s[0],c=s[1],l=s[2],o._checkForCompletion(t,n,c),e.next=11,o._runReturnHandlers(l);case 11:if(!u){e.next=13;break}throw u;case 13:case"end":return e.stop()}}),a,this)})).bind(this))()}}],[{key:"_runAllMiddleware",value:function(t,n,a){return r.asyncToGenerator(e(i).mark((function s(){var u,c,l,d,f,h,p,v,m,g;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=[],c=null,l=!1,d=!0,f=!1,h=void 0,e.prev=4,p=a[Symbol.iterator]();case 6:if(d=(v=p.next()).done){e.next=22;break}return m=v.value,e.t0=r,e.next=12,o._runMiddleware(t,n,m,u);case 12:if(e.t1=e.sent,g=e.t0.slicedToArray.call(e.t0,e.t1,2),c=g[0],!(l=g[1])){e.next=19;break}return e.abrupt("break",22);case 19:d=!0,e.next=6;break;case 22:e.next=28;break;case 24:e.prev=24,e.t2=e.catch(4),f=!0,h=e.t2;case 28:e.prev=28,e.prev=29,d||null==p.return||p.return();case 31:if(e.prev=31,!f){e.next=34;break}throw h;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",[c,l,u.reverse()]);case 37:case"end":return e.stop()}}),s,null,[[4,24,28,36],[29,,31,35]])})))()}},{key:"_runMiddleware",value:function(e,t,n,i){return new Promise((function(o){var a=function(e){var n=e||t.error;n&&(t.error=u.serializeError(n)),o([n,!0])};try{n(e,t,(function(n){t.error?a(t.error):(n&&("function"!=typeof n&&a(new u.EthereumRpcError(u.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+'Received "'.concat(void 0===n?"undefined":r.typeOf(n),'" for request:\n').concat(l(e)),{request:e})),i.push(n)),o([null,!1]))}),a)}catch(e){a(e)}}))}},{key:"_runReturnHandlers",value:function(t){return r.asyncToGenerator(e(i).mark((function n(){var r,o,a,s,u,c;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,o=!1,a=void 0,e.prev=1,s=t[Symbol.iterator]();case 3:if(r=(u=s.next()).done){e.next=10;break}return c=u.value,e.next=7,new Promise((function(e,t){c((function(n){return n?t(n):e()}))}));case 7:r=!0,e.next=3;break;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),o=!0,a=e.t0;case 16:e.prev=16,e.prev=17,r||null==s.return||s.return();case 19:if(e.prev=19,!o){e.next=22;break}throw a;case 22:return e.finish(19);case 23:return e.finish(16);case 24:case"end":return e.stop()}}),n,null,[[1,12,16,24],[17,,19,23]])})))()}},{key:"_checkForCompletion",value:function(e,t,n){if(!("result"in t)&&!("error"in t))throw new u.EthereumRpcError(u.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n".concat(l(e)),{request:e});if(!n)throw new u.EthereumRpcError(u.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n".concat(l(e)),{request:e})}}]),o}(s.default);function l(e){return JSON.stringify(e,null,2)}t.exports.JsonRpcEngine=c})),o.register("lGecB",(function(e,t){var n=o("cuInp");function r(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((function(){throw e}))}}function i(e){for(var t=e.length,n=new Array(t),r=0;r<t;r+=1)n[r]=e[r];return n}Object.defineProperty(e.exports,"__esModule",{value:!0});var a=function(e){n.inherits(o,e);var t=n.createSuper(o);function o(){return n.classCallCheck(this,o),t.apply(this,arguments)}return n.createClass(o,[{key:"emit",value:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var s="error"===e,u=this._events;if(void 0!==u)s=s&&void 0===u.error;else if(!s)return!1;if(s){var c=void 0;if(o.length>0&&(c=n.slicedToArray(o,1)[0]),c instanceof Error)throw c;var l=new Error("Unhandled error.".concat(c?" (".concat(c.message,")"):""));throw l.context=c,l}var d=u[e];if(void 0===d)return!1;if("function"==typeof d)r(d,this,o);else for(var f=d.length,h=i(d),p=0;p<f;p+=1)r(h[p],this,o);return!0}}]),o}(o("6iTFc").EventEmitter);e.exports.default=a})),o.register("5zrNA",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.mergeMiddleware=void 0;var n=o("dP8Qn");e.exports.mergeMiddleware=function(e){var t=new n.JsonRpcEngine;return e.forEach((function(e){return t.push(e)})),t.asMiddleware()}})),o.register("kTYs3",(function(e,t){"use strict";var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createStreamMiddleware=e.exports.createEngineStream=void 0;var r=n(o("gSFXS"));e.exports.createEngineStream=r.default;var i=n(o("bxzL2"));e.exports.createStreamMiddleware=i.default})),o.register("gSFXS",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=o("bhrWb");e.exports.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");var t=e.engine,r=new n.Duplex({objectMode:!0,read:function(){return},write:function(e,n,i){t.handle(e,(function(e,t){r.push(t)})),i()}});return t.on&&t.on("notification",(function(e){r.push(e)})),r}})),o.register("bhrWb",(function(e,t){(t=e.exports=o("9uhqX")).Stream=t,t.Readable=t,t.Writable=o("eqivn"),t.Duplex=o("bgJAq"),t.Transform=o("cnn4w"),t.PassThrough=o("7EtuH")})),o.register("9uhqX",(function(e,n){"use strict";var r=o("j2G2N"),i=o("eCMry");e.exports=w;var a,s=o("bwPQM");w.ReadableState=y;o("6iTFc").EventEmitter;var u=function(e,t){return e.listeners(t).length},c=o("3lR7o"),l=o("2fg9l").Buffer,d=t.Uint8Array||function(){};var f=Object.create(o("3q0Rj"));f.inherits=o("6s7sM");var h=o("9nnKr"),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var v,m=o("2lof3"),g=o("eVfIY");f.inherits(w,c);var b=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var n=t instanceof(a=a||o("bgJAq"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(v||(v=o("ffd43").StringDecoder),this.decoder=new v(e.encoding),this.encoding=e.encoding)}function w(e){if(a=a||o("bgJAq"),!(this instanceof w))return new w(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function x(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(i||(o=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof d||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):A(e,a)):E(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),A(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=g.destroy,w.prototype._undestroy=g.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},w.prototype.unshift=function(e){return x(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return v||(v=o("ffd43").StringDecoder),this._readableState.decoder=new v(e),this._readableState.encoding=e,this};var _=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){p("emit readable"),e.emit("readable"),P(e)}function A(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function M(e){p("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function j(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}w.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):S(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function c(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",v),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){p("onend"),e.end()}o.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",c);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",d);var f=!1;var h=!1;function v(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function m(t){p("onerror",t),y(),e.removeListener("error",m),0===u(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",b),y()}function b(){p("onfinish"),e.removeListener("close",g),y()}function y(){p("unpipe"),n.unpipe(e)}return n.on("data",v),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",b),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},w.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(M,this))}return n},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},w.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=R})),o.register("eCMry",(function(e,t){"use strict";var n=o("j2G2N");void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n})),o.register("bwPQM",(function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}})),o.register("3lR7o",(function(e,t){e.exports=o("6iTFc").EventEmitter})),o.register("2fg9l",(function(e,t){var n=o("ehiNV"),r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,e.exports),e.exports.Buffer=a),i(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}})),o.register("3q0Rj",(function(e,t){n(e.exports,"isArray",(function(){return r}),(function(e){return r=e})),n(e.exports,"isBoolean",(function(){return i}),(function(e){return i=e})),n(e.exports,"isNull",(function(){return a}),(function(e){return a=e})),n(e.exports,"isNullOrUndefined",(function(){return s}),(function(e){return s=e})),n(e.exports,"isNumber",(function(){return u}),(function(e){return u=e})),n(e.exports,"isString",(function(){return c}),(function(e){return c=e})),n(e.exports,"isSymbol",(function(){return l}),(function(e){return l=e})),n(e.exports,"isUndefined",(function(){return d}),(function(e){return d=e})),n(e.exports,"isRegExp",(function(){return f}),(function(e){return f=e})),n(e.exports,"isObject",(function(){return h}),(function(e){return h=e})),n(e.exports,"isDate",(function(){return p}),(function(e){return p=e})),n(e.exports,"isError",(function(){return v}),(function(e){return v=e})),n(e.exports,"isFunction",(function(){return m}),(function(e){return m=e})),n(e.exports,"isPrimitive",(function(){return g}),(function(e){return g=e})),n(e.exports,"isBuffer",(function(){return b}),(function(e){return b=e}));var r,i,a,s,u,c,l,d,f,h,p,v,m,g,b,y=o("cuInp");r=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===x(e)},i=function(e){return"boolean"==typeof e},a=function(e){return null===e},s=function(e){return null==e},u=function(e){return"number"==typeof e},c=function(e){return"string"==typeof e},l=function(e){return"symbol"===(void 0===e?"undefined":y.typeOf(e))},d=function(e){return void 0===e},f=function(e){return"[object RegExp]"===x(e)},h=function(e){return"object"==typeof e&&null!==e},p=function(e){return"[object Date]"===x(e)},v=function(e){return"[object Error]"===x(e)||e instanceof Error},m=function(e){return"function"==typeof e},g=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":y.typeOf(e))||void 0===e};var w=o("ehiNV");function x(e){return Object.prototype.toString.call(e)}b=w.Buffer.isBuffer})),o.register("2lof3",(function(e,t){"use strict";var n=o("2fg9l").Buffer,r=o("9nnKr");e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=o,i=s,t.copy(r,i),s+=a.data.length,a=a.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})})),o.register("eVfIY",(function(e,t){"use strict";var n=o("eCMry");function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}})),o.register("bgJAq",(function(e,t){"use strict";var n=o("eCMry"),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var i=Object.create(o("3q0Rj"));i.inherits=o("6s7sM");var a=o("9uhqX"),s=o("eqivn");i.inherits(d,a);for(var u=r(s.prototype),c=0;c<u.length;c++){var l=u[c];d.prototype[l]||(d.prototype[l]=s.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}})),o.register("eqivn",(function(e,n){"use strict";var r=o("eCMry");function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var a,s=r.nextTick;g.WritableState=m;var u=Object.create(o("3q0Rj"));u.inherits=o("6s7sM");var c={deprecate:o("20t6O")},l=o("3lR7o"),d=o("2fg9l").Buffer,f=t.Uint8Array||function(){};var h,p=o("eVfIY");function v(){}function m(e,t){a=a||o("bgJAq"),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),_(e,t))}(e,n,i,t,o);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),i?s(y,e,n,a,o):y(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(a=a||o("bgJAq"),!(h.call(g,this)||this instanceof a))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,b(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var n=x(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,d.isBuffer(i)||i instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=v),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),r.nextTick(i,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}})),o.register("ffd43",(function(e,t){var r;n(e.exports,"StringDecoder",(function(){return r}),(function(e){return r=e}));var i=o("2fg9l").Buffer,a=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=d,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=f,this.end=h,t=3;break;default:return this.write=p,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}r=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=u(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=u(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=u(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),o.register("cnn4w",(function(e,t){"use strict";e.exports=a;var n=o("bgJAq"),r=Object.create(o("3q0Rj"));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=o("6s7sM"),r.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}})),o.register("7EtuH",(function(e,t){"use strict";e.exports=i;var n=o("cnn4w"),r=Object.create(o("3q0Rj"));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r.inherits=o("6s7sM"),r.inherits(i,n),i.prototype._transform=function(e,t,n){n(null,e)}})),o.register("bxzL2",(function(e,t){"use strict";var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var r=n(o("lGecB")),i=o("bhrWb");e.exports.default=function(){var e={},t=new i.Duplex({objectMode:!0,read:function(){return!1},write:function(t,r,i){var o;try{!t.id?function(e){n.emit("notification",e)}(t):function(t){var n=e[t.id];if(!n)throw new Error('StreamMiddleware - Unknown response id "'.concat(t.id,'"'));delete e[t.id],Object.assign(n.res,t),setTimeout(n.end)}(t)}catch(e){o=e}i(o)}}),n=new r.default;return{events:n,middleware:function(n,r,i,o){t.push(n),e[n.id]={req:n,res:r,next:i,end:o}},stream:t}}})),o.register("5ErS3",(function(e,t){"use strict";var n=o("6IE90");e.exports=n.ObjectMultiplex})),o.register("6IE90",(function(e,t){var n=o("cuInp"),r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ObjectMultiplex=void 0;var i=o("bhrWb"),a=r(o("7a0vf")),s=r(o("6AWDh")),u=o("6ja6l"),c=Symbol("IGNORE_SUBSTREAM"),l=function(e){n.inherits(r,e);var t=n.createSuper(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.classCallCheck(this,r),(e=t.call(this,Object.assign(Object.assign({},i),{objectMode:!0})))._substreams={},e}return n.createClass(r,[{key:"createStream",value:function(e){if(this.destroyed)throw new Error('ObjectMultiplex - parent stream for name "'.concat(e,'" already destroyed'));if(this._readableState.ended||this._writableState.ended)throw new Error('ObjectMultiplex - parent stream for name "'.concat(e,'" already ended'));if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));var t,n,r,i=new u.Substream({parent:this,name:e});return this._substreams[e]=i,t=this,n=function(e){return i.destroy(e||void 0)},r=s.default(n),a.default(t,{readable:!1},r),a.default(t,{writable:!1},r),i}},{key:"ignoreStream",value:function(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));this._substreams[e]=c}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,n){var r=e.name,i=e.data;if(!r)return console.warn('ObjectMultiplex - malformed chunk without name "'.concat(e,'"')),n();var o=this._substreams[r];return o?(o!==c&&o.push(i),n()):(console.warn('ObjectMultiplex - orphaned data for stream "'.concat(r,'"')),n())}}]),r}(i.Duplex);e.exports.ObjectMultiplex=l})),o.register("6ja6l",(function(e,t){var n=o("cuInp");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Substream=void 0;var r=function(e){n.inherits(r,e);var t=n.createSuper(r);function r(e){var i,o=e.parent,a=e.name;return n.classCallCheck(this,r),(i=t.call(this,{objectMode:!0}))._parent=o,i._name=a,i}return n.createClass(r,[{key:"_read",value:function(){}},{key:"_write",value:function(e,t,n){this._parent.push({name:this._name,data:e}),n()}}]),r}(o("bhrWb").Duplex);e.exports.Substream=r})),o.register("9B58V",(function(e,t){"use strict";var n=Array.isArray,r=Object.keys,i=Object.prototype.hasOwnProperty;e.exports=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){var a,s,u,c=n(t),l=n(o);if(c&&l){if((s=t.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(t[a],o[a]))return!1;return!0}if(c!=l)return!1;var d=t instanceof Date,f=o instanceof Date;if(d!=f)return!1;if(d&&f)return t.getTime()==o.getTime();var h=t instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==o.toString();var v=r(t);if((s=v.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!i.call(o,v[a]))return!1;for(a=s;0!=a--;)if(!e(t[u=v[a]],o[u]))return!1;return!0}return t!=t&&o!=o}})),o.register("7wAP0",(function(e,t){"use strict";var n=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"==typeof e._transform},e.exports=n})),o.register("2VA4E",(function(e,t){"use strict";var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var r=n(o("75rgN")),i=o("8kAS7"),a=n(o("cWb80")),s=n(o("hgLs5")),u=i.detect();e.exports.default=function(){var e;try{var t=function(){switch(null==u?void 0:u.name){case"chrome":default:return s.default.CHROME_ID;case"firefox":return s.default.FIREFOX_ID}}(),n=chrome.runtime.connect(t),i=new r.default(n);e=new a.default(i)}catch(e){throw console.dir("Metamask connect error ",e),e}return e}})),o.register("75rgN",(function(e,t){var n=o("cuInp"),r=o("ehiNV").Buffer,i=o("frO4d");e.exports=function(e){n.inherits(i,e);var t=n.createSuper(i);function i(e){var r;return n.classCallCheck(this,i),(r=t.call(this,{objectMode:!0}))._port=e,r._port.onMessage.addListener((function(e){return r._onMessage(e)})),r._port.onDisconnect.addListener((function(){return r._onDisconnect()})),r}return n.createClass(i,[{key:"_onMessage",value:function(e){if(r.isBuffer(e)){var t=r.from(e);this.push(t)}else this.push(e)}},{key:"_onDisconnect",value:function(){this.destroy()}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,n){try{if(r.isBuffer(e)){var i=e.toJSON();i._isBuffer=!0,this._port.postMessage(i)}else this._port.postMessage(e)}catch(e){return n(new Error("PortDuplexStream - disconnected"))}return n()}}]),i}(i.Duplex)})),o.register("8kAS7",(function(e,t){n(e.exports,"detect",(function(){return p}),(function(e){return p=e}));var r=o("j2G2N"),i=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},a=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},u=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},d=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?m(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?m(navigator.userAgent):void 0!==r&&r.version?new s(r.version.slice(1)):null}function v(e){return""!==e&&f.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function m(e){var t=v(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=i(i([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-o.length),!0)):o=[];var s=o.join("."),l=function(e){for(var t=0,n=h.length;t<n;t++){var r=h[t],i=r[0];if(r[1].exec(e))return i}return null}(e),f=d.exec(e);return f&&f[1]?new u(n,s,l,f[1]):new a(n,s,l)}})),o.register("hgLs5",(function(e,t){e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')})),o.register("gKFGn",(function(e,t){var n=o("cuInp");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console,r=!1,i=!1;if(!window.web3){var o="__isMetaMaskShim__",a={currentProvider:e};Object.defineProperty(a,o,{value:!0,enumerable:!0,configurable:!1,writable:!1}),a=new Proxy(a,{get:function(a,s){for(var u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];var d;return"currentProvider"!==s||r?"currentProvider"===s||s===o||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((function(e){t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),(d=Reflect).get.apply(d,[a,s].concat(n.toConsumableArray(c)))},set:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o;return t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),(o=Reflect).set.apply(o,n.toConsumableArray(r))}}),Object.defineProperty(window,"web3",{value:a,enumerable:!1,configurable:!0,writable:!0})}}}));var a,s=o("yrqZm"),u=o("jLXMA"),c=(s=o("yrqZm"),o("f2hDu"));!function(e){e.Update="Web3ReactUpdate",e.Error="Web3ReactError",e.Deactivate="Web3ReactDeactivate"}(a||(a={}));var l=o("8NUoU"),d=o("g68ds");function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e,t,n){return(g=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i}).apply(null,arguments)}function b(e){var t="function"==typeof Map?new Map:void 0;return b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)},b(e)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function y(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function w(e){if("string"==typeof e){e=e.replace(/^Ox/,"0x");var t=Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10);return Number.isNaN(t)&&c.default(!1),t}return!Number.isInteger(e)&&c.default(!1),e}function x(e){("string"!=typeof e||!e.match(/^(0x)?[0-9a-fA-F]{40}$/))&&c.default(!1);for(var t="0x"===e.substring(0,2)?e:"0x"+e,n=t.toLowerCase().substring(2).split(""),r=new Uint8Array(40),i=0;i<40;i++)r[i]=n[i].charCodeAt(0);for(var o=l.arrayify(d.keccak256(r)),a=0;a<40;a+=2)o[a>>1]>>4>=8&&(n[a]=n[a].toUpperCase()),(15&o[a>>1])>=8&&(n[a+1]=n[a+1].toUpperCase());var s="0x"+n.join("");return t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==s&&c.default(!1),s}var E,_,k=function(e,t){try{var n=function(n){return Promise.resolve(Promise.all([void 0===t.chainId?e.getChainId():t.chainId,void 0===t.account?e.getAccount():t.account])).then((function(t){var r=t[0],i=t[1],o=w(r);if(e.supportedChainIds&&!e.supportedChainIds.includes(o))throw new C(o,e.supportedChainIds);var a=null===i?i:x(i);return{provider:n,chainId:o,account:a}}))},r=void 0===t.provider;return Promise.resolve(r?Promise.resolve(e.getProvider()).then(n):n(t.provider))}catch(e){return Promise.reject(e)}},S=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t}return h(t,e),t}(b(Error)),C=function(e){function t(t,n){var r;return(r=e.call(this)||this).name=r.constructor.name,r.message="Unsupported chain id: "+t+". Supported chain ids are: "+n+".",r}return h(t,e),t}(b(Error));function A(e,t){var n=t.type,r=t.payload;switch(n){case E.ACTIVATE_CONNECTOR:return{connector:r.connector,provider:r.provider,chainId:r.chainId,account:r.account,onError:r.onError};case E.UPDATE:var i=r.provider,o=r.chainId,a=r.account;return f({},e,void 0===i?{}:{provider:i},void 0===o?{}:{chainId:o},void 0===a?{}:{account:a});case E.UPDATE_FROM_ERROR:var s=r.provider,u=r.chainId,c=r.account;return f({},e,void 0===s?{}:{provider:s},void 0===u?{}:{chainId:u},void 0===c?{}:{account:c},{error:void 0});case E.ERROR:var l=r.error;return{connector:e.connector,error:l,onError:e.onError};case E.ERROR_FROM_ACTIVATION:return{connector:r.connector,error:r.error};case E.DEACTIVATE_CONNECTOR:return{}}}(_=E||(E={}))[_.ACTIVATE_CONNECTOR=0]="ACTIVATE_CONNECTOR",_[_.UPDATE=1]="UPDATE",_[_.UPDATE_FROM_ERROR=2]="UPDATE_FROM_ERROR",_[_.ERROR=3]="ERROR",_[_.ERROR_FROM_ACTIVATION=4]="ERROR_FROM_ACTIVATION",_[_.DEACTIVATE_CONNECTOR=5]="DEACTIVATE_CONNECTOR";var O="primary",M={};function T(t){M[t]&&c.default(!1),M[t]=s.createContext({activate:function(){try{return c.default(!1),Promise.resolve()}catch(e){return Promise.reject(e)}},setError:function(){c.default(!1)},deactivate:function(){c.default(!1)},active:!1}),M[t].displayName="Web3ReactContext - "+t;var n=M[t].Provider;return function(t){var r=t.getLibrary,i=t.children,o=function(){var e=s.useReducer(A,{}),t=e[0],n=e[1],r=t.connector,i=t.provider,o=t.chainId,u=t.account,c=t.onError,l=t.error,d=s.useRef(-1);d.current+=1;var h=s.useCallback((function(e,t,r){void 0===r&&(r=!1);try{var i=d.current,o=!1;return Promise.resolve(y((function(){return Promise.resolve(e.activate().then((function(e){return o=!0,e}))).then((function(r){return Promise.resolve(k(e,r)).then((function(r){if(d.current>i)throw new S;n({type:E.ACTIVATE_CONNECTOR,payload:f({connector:e},r,{onError:t})})}))}))}),(function(i){if(i instanceof S)o&&e.deactivate();else{if(r)throw o&&e.deactivate(),i;t?(o&&e.deactivate(),t(i)):n({type:E.ERROR_FROM_ACTIVATION,payload:{connector:e,error:i}})}})))}catch(e){return Promise.reject(e)}}),[]),p=s.useCallback((function(e){n({type:E.ERROR,payload:{error:e}})}),[]),v=s.useCallback((function(){n({type:E.DEACTIVATE_CONNECTOR})}),[]),m=s.useCallback((function(e){try{if(!r)throw Error("This should never happen, it's just so Typescript stops complaining");var t=d.current;return Promise.resolve(function(){if(l)return y((function(){return Promise.resolve(k(r,e)).then((function(e){if(d.current>t)throw new S;n({type:E.UPDATE_FROM_ERROR,payload:e})}))}),(function(e){e instanceof S||(c?c(e):n({type:E.ERROR,payload:{error:e}}))}));var i=void 0===e.chainId?void 0:w(e.chainId);if(void 0!==i&&r.supportedChainIds&&!r.supportedChainIds.includes(i)){var o=new C(i,r.supportedChainIds);c?c(o):n({type:E.ERROR,payload:{error:o}})}else{var a="string"==typeof e.account?x(e.account):e.account;n({type:E.UPDATE,payload:{provider:e.provider,chainId:i,account:a}})}}())}catch(e){return Promise.reject(e)}}),[r,l,c]),g=s.useCallback((function(e){c?c(e):n({type:E.ERROR,payload:{error:e}})}),[c]),b=s.useCallback((function(){n({type:E.DEACTIVATE_CONNECTOR})}),[]);return s.useEffect((function(){return function(){r&&r.deactivate()}}),[r]),s.useEffect((function(){return r&&r.on(a.Update,m).on(a.Error,g).on(a.Deactivate,b),function(){r&&r.off(a.Update,m).off(a.Error,g).off(a.Deactivate,b)}}),[r,m,g,b]),{connector:r,provider:i,chainId:o,account:u,activate:h,setError:p,deactivate:v,error:l}}(),u=o.connector,c=o.provider,l=o.chainId,d=o.account,h=o.activate,p=o.setError,v=o.deactivate,m=o.error,g=void 0!==u&&void 0!==l&&void 0!==d&&!m,b=s.useMemo((function(){return g&&void 0!==l&&Number.isInteger(l)&&u?r(c,u):void 0}),[g,r,c,u,l]),_={connector:u,library:b,chainId:l,account:d,activate:h,setError:p,deactivate:v,active:g,error:m};return e(s).createElement(n,{value:_},i)}}var P=T(O);function R(e){return s.useContext(function(e){return void 0===e&&(e=O),!Object.keys(M).includes(e)&&c.default(!1),M[e]}(e))}var j,I={},N=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I,"__esModule",{value:!0}),I.createExternalExtensionProvider=I.shimWeb3=I.setGlobalProvider=I.BaseProvider=I.MetaMaskInpageProvider=I.initializeProvider=void 0;var D=N(o("drovu"));I.MetaMaskInpageProvider=D.default;var W=N(o("2VA4E"));I.createExternalExtensionProvider=W.default;var B=N(o("cWb80"));I.BaseProvider=B.default;var F={},L=F&&F.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(F,"__esModule",{value:!0}),F.setGlobalProvider=F.initializeProvider=void 0;var q=L(o("drovu")),U=L(o("gKFGn"));function G(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}F.initializeProvider=function(e){var t=e.connectionStream,n=e.jsonRpcStreamName,r=e.logger,i=void 0===r?console:r,o=e.maxEventListeners,a=void 0===o?100:o,s=e.shouldSendMetadata,u=void 0===s||s,c=e.shouldSetOnWindow,l=void 0===c||c,d=e.shouldShimWeb3,f=void 0!==d&&d,h=new q.default(t,{jsonRpcStreamName:n,logger:i,maxEventListeners:a,shouldSendMetadata:u});return h=new Proxy(h,{deleteProperty:function(){return!0}}),l&&G(h),f&&U.default(h,i),h},F.setGlobalProvider=G,Object.defineProperty(I,"initializeProvider",{enumerable:!0,get:function(){return F.initializeProvider}}),Object.defineProperty(I,"setGlobalProvider",{enumerable:!0,get:function(){return F.setGlobalProvider}});var V=N(o("gKFGn"));I.shimWeb3=V.default;var z=I.MetaMaskInpageProvider,H=o("75rgN"),J=o("j2G2N");function Z(e){var t=Q([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter((function(t){return t.rule&&t.rule.test(e)}))[0];return t?t.name:null}function K(){return void 0!==J&&J.version&&{name:"node",version:J.version.slice(1),os:J.platform}}function X(e){var t=Q([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]]);if(!e)return null;var n=t.map((function(t){var n=t.rule.exec(e),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:t.name,version:r.join(".")}})).filter(Boolean)[0]||null;return n&&(n.os=Z(e)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(e)&&((n=n||{}).bot=!0),n}function Q(e){return e.map((function(e){return{name:e[0],rule:e[1]}}))}var $,Y=(0,{detect:function(){return"undefined"!=typeof navigator?X(navigator.userAgent):K()},detectOS:Z,getNodeVersion:K,parseUserAgent:X}.detect)();$=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}'),j=function(){var e;try{var t=function(){switch(Y&&Y.name){case"chrome":default:return $.CHROME_ID;case"firefox":return $.FIREFOX_ID}}(),n=chrome.runtime.connect(t),r=new H(n);e=new z(r)}catch(e){throw console.dir("Metamask connect error ",e),e}return e};var ee=o("hGdMA");o("goCP2");var te=o("edC09"),ne=o("fVAzy"),re=o("01f3h"),ie=o("15Pgw"),oe=o("1tMSC"),ae=o("cuInp"),se=(s=o("yrqZm"),ee=o("hGdMA"),o("1Wa82")),ue={latestBlockNumber:void 0},ce=e(s).createContext(ue),le=function(t){var n=t.children,r=R(),i=r.chainId,o=r.library,a=ae.slicedToArray(s.useState(),2),u=a[0],c=a[1];return s.useEffect((function(){if(void 0!==i){var e=null!=o?o:new ee.AlchemyProvider(i,se.ALCHEMY_API_KEY),t=!1;return e.getBlockNumber().then((function(e){t||c(e)})),e.on("block",(function(e){c(e)})),function(){e.removeAllListeners("block"),c(void 0),t=!0}}}),[i,o]),e(s).createElement(ce.Provider,{value:{latestBlockNumber:u}},n)},de=function(){return e(s).useContext(ce)},fe={};n(fe,"EthAssetsProvider",(function(){return Oe}),(function(e){return Oe=e})),n(fe,"useEthAssets",(function(){return Me}),(function(e){return Me=e}));ae=o("cuInp");var he=o("1vgyn"),pe=(s=o("yrqZm"),(ae=o("cuInp")).defineProperty({},1,[{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH",decimals:18,iconUrl:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",name:"USD Coin",symbol:"USDC",decimals:6,iconUrl:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",name:"Tether USD",symbol:"USDT",decimals:6,iconUrl:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"}])),ve=o("8PXS4"),me=o("hZbar"),ge=o("226dB"),be=(me=o("hZbar"),o("jCWKb")),ye=o("eENAE"),we=o("jcs3P"),xe=o("eshnN"),Ee={};n(Ee,"fetchEthGasStationPrice",(function(){return Se}),(function(e){return Se=e}));he=o("1vgyn"),me=o("hZbar"),ye=o("eENAE"),se=o("1Wa82");var _e=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ke="https://ethgasstation.info/api/ethgasAPI.json?api-key=".concat(se.DEFI_PULSE_API_KEY),Se=function(){return _e(void 0,void 0,void 0,e(he).mark((function t(){var n,r;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ke);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",new ye.BigNumber(r.fast/10*me.WEI_IN_GWEI));case 7:case"end":return e.stop()}}),t)})))},Ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ae=s.createContext({refreshEthBalances:me.NOOP}),Oe=function(t){var n=t.children,r=R(),i=r.account,o=r.chainId,a=r.library,u=ae.slicedToArray(s.useState(),2),c=u[0],l=u[1],d=ae.slicedToArray(s.useState(),2),f=d[0],h=d[1],p=ae.slicedToArray(s.useState(),2),v=p[0],m=p[1],g=ae.slicedToArray(s.useState(),2),b=g[0],y=g[1],w=ae.slicedToArray(s.useState(!1),2),x=w[0],E=w[1],_=de().latestBlockNumber,k=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ce(void 0,void 0,void 0,e(he).mark((function n(){var r,s;return e(he).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i&&o&&a){n.next=2;break}return n.abrupt("return");case 2:return E(t),n.prev=3,n.next=6,a.getBalance(i);case 6:return r=n.sent,n.next=9,Promise.all(pe[o].map((function(t){return Ce(void 0,void 0,void 0,e(he).mark((function n(){var r,o,s,u;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,e.next=3,be.ERC20__factory.connect(r,a).balanceOf(i);case 3:return o=e.sent,s=new ye.BigNumber(o.toString()),u=Object.assign(Object.assign({},t),{chain:ge.Chain.Ethereum,type:"fungible",baseBalance:new ye.BigNumber(s.toString()),balance:we.amountToUiAmount(s,t.decimals)}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),n)})))})));case 9:s=n.sent,l(new ye.BigNumber(r.toString())),h(s),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),console.error(n.t0);case 17:return n.prev=17,E(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[3,14,17,20]])})))};s.useEffect((function(){try{k(!0)}catch(e){console.error(e)}}),[i]),s.useEffect((function(){try{k(!1),Ce(void 0,void 0,void 0,e(he).mark((function t(){var n;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.fetchEthPrice();case 2:n=e.sent,m(n);case 4:case"end":return e.stop()}}),t)}))),Ce(void 0,void 0,void 0,e(he).mark((function t(){var n;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.fetchEthGasStationPrice();case 2:n=e.sent,y(n);case 4:case"end":return e.stop()}}),t)})))}catch(e){console.error(e)}}),[_]);var S=s.useMemo((function(){if(f&&i&&c)return[Object.assign(Object.assign({},me.ETHEREUM),{chain:ge.Chain.Ethereum,baseBalance:c,balance:we.amountToUiAmount(c,me.ETHEREUM.decimals)})].concat(f)}),[i,c,f]);return e(s).createElement(Ae.Provider,{value:{ethBalance:c,assets:S,ethPrice:v,gasPrice:b,refreshEthBalances:k,isRefreshingBalances:x}},n)},Me=function(){var e=s.useContext(Ae),t=s.useMemo((function(){return e.assets?ae.toConsumableArray(e.assets).sort(ve.assetSorter):void 0}),[e.assets]);return Object.assign(Object.assign({},e),{assets:t})},Te=o("1rSG6"),Pe=o("bDjhz"),Re=o("1w3DR"),je=o("j040j"),Ie=o("bWoQY"),Ne=o("bbVVl"),De=o("aq3jz"),We=o("580bB"),Be=o("3l6Qh"),Fe={};n(Fe,"BridgeFlow",(function(){return or}),(function(e){return or=e}));ae=o("cuInp"),he=o("1vgyn"),s=o("yrqZm");var Le,qe=o("5BN27"),Ue=(ae=o("cuInp"),9007199254740991),Ge="[object Arguments]",Ve="[object Function]",ze="[object GeneratorFunction]",He=/^(?:0|[1-9]\d*)$/;var Je,Ze,Ke=Object.prototype,Xe=Ke.hasOwnProperty,Qe=Ke.toString,$e=Ke.propertyIsEnumerable,Ye=(Je=Object.keys,Ze=Object,function(e){return Je(Ze(e))});function et(e,t){var n=ct(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&lt(e)}(e)&&Xe.call(e,"callee")&&(!$e.call(e,"callee")||Qe.call(e)==Ge)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Xe.call(e,o)||i&&("length"==o||ot(o,r))||n.push(o);return n}var tt,nt=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[tt?a:++r];if(!1===t(i[s],s,i))break}return e};function rt(e,t,n,r){return function(e,t){e&&nt(e,t,dt)}(e,(function(e,i,o){t(r,n(e),i,o)})),r}function it(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||Ke,t!==r)return Ye(e);var t,n,r,i=[];for(var o in Object(e))Xe.call(e,o)&&"constructor"!=o&&i.push(o);return i}function ot(e,t){return!!(t=null==t?Ue:t)&&("number"==typeof e||He.test(e))&&e>-1&&e%1==0&&e<t}var at,st,ut,ct=Array.isArray;function lt(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ue}(e.length)&&!function(e){var t=function(e){var t=void 0===e?"undefined":ae.typeOf(e);return!!e&&("object"==t||"function"==t)}(e)?Qe.call(e):"";return t==Ve||t==ze}(e)}function dt(e){return lt(e)?et(e):it(e)}Le=(at=function(e,t,n){e[t]=n},ut=function(e){return e},st=function(){return ut},function(e,t){return rt(e,at,st(t),{})});var ft=o("fD9lH"),ht=(ge=o("226dB"),o("1RZ31")),pt=(ne=o("fVAzy"),se=o("1Wa82"),we=o("jcs3P"),o("4gTGP")),vt=o("7blRZ"),mt=(Te=o("1rSG6"),o("bGaWd")),gt=o("cneLj"),bt=(ae=o("cuInp"),s=o("yrqZm"),{});n(bt,"useSolConfirmations",(function(){return Et}),(function(e){return Et=e}));ae=o("cuInp"),he=o("1vgyn"),s=o("yrqZm"),pt=o("4gTGP");var yt,wt,xt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Et=function(t,n){var r=ae.slicedToArray(s.useState(void 0),2),i=r[0],o=r[1];return[i,function(r){return xt(void 0,void 0,void 0,e(he).mark((function a(){return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pt.waitForSlots(n,t,r,(function(e){var n=Math.min(t,Math.max(e-r,0));o(Math.max(n,null!=i?i:0))}));case 4:case"end":return e.stop()}}),a)})))}]},_t=o("fmZvH"),kt=o("3u496"),St=o("1Pp7V"),Ct=o("2OKkK"),At=o("7Z3sw");!function(e){e[e.TokenApproval=0]="TokenApproval",e[e.LockUp=1]="LockUp",e[e.AwaitConfirmations=2]="AwaitConfirmations",e[e.AwaitTransfer=3]="AwaitTransfer",e[e.Done=4]="Done"}(yt||(yt={})),function(e){e[e.LockUp=0]="LockUp",e[e.AwaitConfirmations=1]="AwaitConfirmations",e[e.AwaitVaa=2]="AwaitVaa",e[e.ClaimAsset=3]="ClaimAsset",e[e.Done=4]="Done"}(wt||(wt={}));var Ot={};n(Ot,"BridgeSwapper",(function(){return qt}),(function(e){return qt=e}));ae=o("cuInp"),s=o("yrqZm"),qe=o("5BN27"),me=o("hZbar"),we=o("jcs3P");var Mt=o("1qebk"),Tt=o("glMqZ"),Pt=o("f39Wy"),Rt=o("hTFNG"),jt=(Ct=o("2OKkK"),At=o("7Z3sw"),o("6AaHU"));function It(){var e=ae.taggedTemplateLiteral(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]);return It=function(){return e},e}function Nt(){var e=ae.taggedTemplateLiteral(["\n  margin-top: 25px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  *:first-child {\n    margin-bottom: 15px;\n  }\n  margin-bottom: ","px;\n"]);return Nt=function(){return e},e}function Dt(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Dt=function(){return e},e}function Wt(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  width: 270px;\n  flex-direction: column;\n"]);return Wt=function(){return e},e}function Bt(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  margin: 5px 0px;\n  align-items: center;\n  > * {\n    margin-right: 11px;\n  }\n"]);return Bt=function(){return e},e}var Ft=function(e){return e},Lt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},qt=function(t){var n=t.spinnerColor,r=t.fromAssetAmount,i=t.currentBridgeStep,o=t.onBackClick,a=t.onBridgeRetry,u=void 0===a?me.NOOP:a,c=t.onClose,l=void 0===c?me.NOOP:c,d=t.bridgeStepInfos,f=void 0===d?[]:d,h=Lt(t,["spinnerColor","fromAssetAmount","currentBridgeStep","onBackClick","onBridgeRetry","onClose","bridgeStepInfos"]),p=h.fromAsset,v=p.symbol,m=p.iconUrl,g=e(s).createElement(Jt,{stepInfos:f,currentStep:i,title:"Convert ".concat(we.formatTokenAmount(null!=r?r:0)," ").concat(v),iconUrl:m,onButtonClick:function(){"failure"!==(null==i?void 0:i.status)?l():u()},spinnerColor:n}),b=void 0!==i?[{view:g,opts:{shouldShowBackButton:void 0===i||0===i.index||"failure"===i.status}}]:[];return e(s).createElement(Mt.DetailViewsController,{stack:b,popDetailView:o},e(s).createElement(Rt.Swapper,Object.assign({},h)))},Ut=qe.default.div(Hn||(Hn=Ft(It()))),Gt=qe.default.div(Jn||(Jn=Ft(Nt(),0)),(function(e){return e.marginBottom})),Vt=qe.default.div(Zn||(Zn=Ft(Dt()))),zt=qe.default.div(xn||(xn=Ft(Wt()))),Ht=qe.default.div(En||(En=Ft(Bt()))),Jt=function(t){var n=t.title,r=t.iconUrl,i=t.stepInfos,o=t.currentStep,a=t.spinnerColor,u=t.onButtonClick,c=!(i.length===(null==o?void 0:o.index))&&"failure"!==(null==o?void 0:o.status),l=3===i.length?30:20;return e(s).createElement(Ut,null,e(s).createElement("div",null,e(s).createElement(Gt,{marginBottom:l},e(s).createElement(Ct.TokenImage,{iconUrl:r,width:80,questionMarkWidth:80}),e(s).createElement(At.Text,{color:"#FFF",size:30,weight:500},n)),e(s).createElement(Vt,null,e(s).createElement(zt,null,i.map((function(t,n){var r,i=n<(null!==(r=null==o?void 0:o.index)&&void 0!==r?r:0),u=n===(null==o?void 0:o.index),c=e(s).createElement("div",{style:{width:22}});return u&&("loading"===(null==o?void 0:o.status)&&(c=e(s).createElement(Tt.Spinner,{diameter:22,color:a})),"failure"===(null==o?void 0:o.status)&&(c=e(s).createElement(Pt.ConfirmationIcon,{type:Pt.ConfirmationIconType.Failure,backgroundWidth:22,iconWidth:9}))),i&&(c=e(s).createElement(Pt.ConfirmationIcon,{type:Pt.ConfirmationIconType.Success,backgroundWidth:22,iconWidth:9})),e(s).createElement(Ht,{key:t.name},c,e(s).createElement(At.Text,{size:16,color:"#999",noWrap:!0},t.name))}))))),e(s).createElement(jt.Button,{onClick:u,disabled:c},function(e,t){var n=e.length===(null==t?void 0:t.index);if(!t)return"Start";if(n)return"Close";var r=t.index;return"failure"===t.status?"Try again":e[r].buttonText}(i,o)))},Zt={};n(Zt,"METAMASK_MODAL_ID",(function(){return Tn}),(function(e){return Tn=e})),n(Zt,"MetamaskIsland",(function(){return In}),(function(e){return In=e}));ae=o("cuInp"),he=o("1vgyn"),s=o("yrqZm"),qe=o("5BN27");var Kt=function(e){var t,n;function r(t){var n,r=(void 0===t?{}:t).supportedChainIds;return(n=e.call(this)||this).supportedChainIds=r,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.emitUpdate=function(e){this.emit(a.Update,e)},i.emitError=function(e){this.emit(a.Error,e)},i.emitDeactivate=function(){this.emit(a.Deactivate)},r}(o("6iTFc").EventEmitter);function Xt(){return Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(this,arguments)}function Qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tn(e,t,n){return(tn=en()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Yt(i,n.prototype),i}).apply(null,arguments)}function nn(e){var t="function"==typeof Map?new Map:void 0;return nn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return tn(e,arguments,$t(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Yt(r,e)},nn(e)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function on(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function an(e){return e.hasOwnProperty("result")?e.result:e}var sn=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="No Ethereum provider was found on window.ethereum.",t}return Qt(t,e),t}(nn(Error)),un=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="The user rejected the request.",t}return Qt(t,e),t}(nn(Error)),cn=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleNetworkChanged=n.handleNetworkChanged.bind(rn(n)),n.handleChainChanged=n.handleChainChanged.bind(rn(n)),n.handleAccountsChanged=n.handleAccountsChanged.bind(rn(n)),n.handleClose=n.handleClose.bind(rn(n)),n}Qt(t,e);var n=t.prototype;return n.handleChainChanged=function(e){this.emitUpdate({chainId:e,provider:window.ethereum})},n.handleAccountsChanged=function(e){0===e.length?this.emitDeactivate():this.emitUpdate({account:e[0]})},n.handleClose=function(e,t){this.emitDeactivate()},n.handleNetworkChanged=function(e){this.emitUpdate({chainId:e,provider:window.ethereum})},n.activate=function(){try{var e,t=function(t){if(n)return t;function r(){return Xt({provider:window.ethereum},e?{account:e}:{})}var i=function(){if(!e)return Promise.resolve(window.ethereum.enable().then((function(e){return e&&an(e)[0]}))).then((function(t){e=t}))}();return i&&i.then?i.then(r):r()},n=!1,r=this;if(!window.ethereum)throw new sn;window.ethereum.on&&(window.ethereum.on("chainChanged",r.handleChainChanged),window.ethereum.on("accountsChanged",r.handleAccountsChanged),window.ethereum.on("close",r.handleClose),window.ethereum.on("networkChanged",r.handleNetworkChanged)),window.ethereum.isMetaMask&&(window.ethereum.autoRefreshOnNetworkChange=!1);var i=on((function(){return Promise.resolve(window.ethereum.send("eth_requestAccounts").then((function(e){return an(e)[0]}))).then((function(t){e=t}))}),(function(e){if(4001===e.code)throw new un}));return Promise.resolve(i&&i.then?i.then(t):t(i))}catch(e){return Promise.reject(e)}},n.getProvider=function(){try{return Promise.resolve(window.ethereum)}catch(e){return Promise.reject(e)}},n.getChainId=function(){try{var e,t=function(){function t(){if(!e)try{e=an(window.ethereum.send({method:"net_version"}))}catch(e){}return e||(e=window.ethereum.isDapper?an(window.ethereum.cachedResults.net_version):window.ethereum.chainId||window.ethereum.netVersion||window.ethereum.networkVersion||window.ethereum._chainId),e}var n=function(){if(!e){var t=on((function(){return Promise.resolve(window.ethereum.send("net_version").then(an)).then((function(t){e=t}))}),(function(){}));if(t&&t.then)return t.then((function(){}))}}();return n&&n.then?n.then(t):t()};if(!window.ethereum)throw new sn;var n=on((function(){return Promise.resolve(window.ethereum.send("eth_chainId").then(an)).then((function(t){e=t}))}),(function(){}));return Promise.resolve(n&&n.then?n.then(t):t())}catch(e){return Promise.reject(e)}},n.getAccount=function(){try{var e,t=function(){function t(){return e||(e=an(window.ethereum.send({method:"eth_accounts"}))[0]),e}var n=function(){if(!e){var t=on((function(){return Promise.resolve(window.ethereum.enable().then((function(e){return an(e)[0]}))).then((function(t){e=t}))}),(function(){}));if(t&&t.then)return t.then((function(){}))}}();return n&&n.then?n.then(t):t()};if(!window.ethereum)throw new sn;var n=on((function(){return Promise.resolve(window.ethereum.send("eth_accounts").then((function(e){return an(e)[0]}))).then((function(t){e=t}))}),(function(){}));return Promise.resolve(n&&n.then?n.then(t):t())}catch(e){return Promise.reject(e)}},n.deactivate=function(){window.ethereum&&window.ethereum.removeListener&&(window.ethereum.removeListener("chainChanged",this.handleChainChanged),window.ethereum.removeListener("accountsChanged",this.handleAccountsChanged),window.ethereum.removeListener("close",this.handleClose),window.ethereum.removeListener("networkChanged",this.handleNetworkChanged))},n.isAuthorized=function(){try{return window.ethereum?Promise.resolve(on((function(){return Promise.resolve(window.ethereum.send("eth_accounts").then((function(e){return an(e).length>0})))}),(function(){return!1}))):Promise.resolve(!1)}catch(e){return Promise.reject(e)}},t}(Kt),ln=(we=o("jcs3P"),se=o("1Wa82"),ae=o("cuInp"),s=o("yrqZm"),new cn({supportedChainIds:[1]}));var dn=o("j7d8I"),fn=(At=o("7Z3sw"),o("222m3")),hn=(kt=o("3u496"),St=o("1Pp7V"),s=o("yrqZm"),me=o("hZbar"),ae=o("cuInp"),s=o("yrqZm"),qe=o("5BN27"),o("eNGT7"),we=o("jcs3P"),gt=o("cneLj"),Tt=o("glMqZ"),At=o("7Z3sw"),Ct=o("2OKkK"),o("e1jJg")),pn=(Pt=o("f39Wy"),o("2Af4W"));kt=o("3u496");function It(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n"]);return It=function(){return e},e}function Nt(){var e=ae.taggedTemplateLiteral(["\n  width: 100%;\n  margin-left: 10px;\n  > * {\n    margin-top: 2px;\n  }\n"]);return Nt=function(){return e},e}function Dt(){var e=ae.taggedTemplateLiteral([""]);return Dt=function(){return e},e}function Wt(){var e=ae.taggedTemplateLiteral(["\n  svg {\n    fill: white;\n  }\n"]);return Wt=function(){return e},e}Ft=function(e){return e};var vn=qe.default.div(Hn||(Hn=Ft(It()))),mn=qe.default.div(Jn||(Jn=Ft(Nt()))),gn=qe.default.div(Zn||(Zn=Ft(Dt()))),bn=qe.default(pn.Circle)(xn||(xn=Ft(Wt()))),yn=function(t){var n=t.name,r=t.symbol,i=t.balance,o=t.address,a=t.iconUrl,u=t.onClick,c=t.opacity,l=t.status,d=t.isDisabled,f=t.spinnerColor,h=t.isHighlighted;return e(s).createElement(hn.TokenRowBody,{onClick:d?void 0:u,isHighlighted:h,opacity:c,isDisabled:d},e(s).createElement(Ct.TokenImage,{width:44,iconUrl:a,alt:n}),e(s).createElement(mn,null,e(s).createElement(vn,null,e(s).createElement(At.Text,{size:16,weight:600,lineHeight:19},n)),e(s).createElement(vn,null,e(s).createElement(At.Text,{size:14,color:"#777777",lineHeight:17},r?"".concat(we.formatTokenAmount(i)," ").concat(r):o&&we.formatHashMedium(o)))),e(s).createElement(gn,null,function(t,n){return t?"loading"===t?e(s).createElement(Tt.Spinner,{diameter:32,color:n}):"success"===t?e(s).createElement(Pt.ConfirmationIcon,{type:Pt.ConfirmationIconType.Success,backgroundWidth:32,iconWidth:11}):"failure"===t?e(s).createElement(Pt.ConfirmationIcon,{type:Pt.ConfirmationIconType.Failure,backgroundWidth:32,iconWidth:11}):null:e(s).createElement(bn,{diameter:32},e(s).createElement(kt.DoubleArrowsIcon,{width:16}))}(l,f)))},wn=function(t){var n=t.rowProps,r=t.onSelect,i=void 0===r?me.NOOP:r;return e(s).createElement(e(s).Fragment,null,n.map((function(t){var n;return e(s).createElement(yn,Object.assign({key:null!==(n=t.address)&&void 0!==n?n:"native"},t,{onClick:function(){return i(t.address)}}))})))};ae=o("cuInp"),s=o("yrqZm"),qe=o("5BN27"),jt=o("6AaHU"),At=o("7Z3sw");function It(){var e=ae.taggedTemplateLiteral(["\n  position: relative;\n  background: #222222;\n  border: 1px solid #323232;\n  box-sizing: border-box;\n  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  width: 400px;\n  height: 450px;\n  overflow: hidden;\n"]);return It=function(){return e},e}function Nt(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  height: 100%;\n  padding: 20px;\n"]);return Nt=function(){return e},e}function Dt(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  flex-align: column;\n  margin-bottom: 30px;\n  height: 252px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n"]);return Dt=function(){return e},e}function Wt(){var e=ae.taggedTemplateLiteral(["\n  margin-bottom: 8px;\n  margin-top: 25px;\n"]);return Wt=function(){return e},e}function Bt(){var e=ae.taggedTemplateLiteral(["\n  margin-top: 10px;\n"]);return Bt=function(){return e},e}Ft=function(e){return e};var xn,En,_n=qe.default.div(Hn||(Hn=Ft(It()))),kn=qe.default.div(Jn||(Jn=Ft(Nt()))),Sn=qe.default.div(Zn||(Zn=Ft(Dt()))),Cn=qe.default.div(xn||(xn=Ft(Wt()))),An=qe.default.ul(En||(En=Ft(Bt()))),On=function(t){var n=t.title,r=t.image,i=t.description,o=t.onClick,a=t.isButtonDisabled,u=t.buttonText,c=t.buttonTheme;return e(s).createElement(kn,null,e(s).createElement(Sn,null,r,e(s).createElement(Cn,null,n),e(s).createElement(An,null,e(s).createElement(At.Text,{size:16,color:"#999"},i))),e(s).createElement(jt.Button,{theme:c,onClick:o,disabled:a},u))};function It(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  margin-left: 12px;\n"]);return It=function(){return e},e}function Nt(){var e=ae.taggedTemplateLiteral(["\n  padding: 20px;\n  height: 83%;\n"]);return Nt=function(){return e},e}Ft=function(e){return e};var Mn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Tn="metmask_island_modal",Pn=qe.default.div(Hn||(Hn=Ft(It()))),Rn=qe.default.main(Jn||(Jn=Ft(Nt())));function jn(e){return e instanceof sn?"noProvider":e instanceof C?"wrongChainId":e instanceof un?"rejected":(console.error(e),"unknown")}var In=function(t){var n,r=t.onAssetSelect,i=t.assets,o=t.highlightedAsset,a=t.highlightedAssetStatus,u=t.isDisabled,c=R(),l=c.activate,d=c.account,f=c.deactivate,h=fe.useEthAssets(),p=h.ethBalance,v=h.isRefreshingBalances,m=ae.slicedToArray(s.useState(void 0),2),g=m[0],b=m[1],y=function(){var e=R(),t=e.activate,n=e.active,r=ae.slicedToArray(s.useState(!1),2),i=r[0],o=r[1];return s.useEffect((function(){ln.isAuthorized().then((function(e){try{e?t(ln,void 0,!0).catch((function(){o(!0)})):o(!0)}catch(e){console.error(e),o(!0)}}))}),[]),s.useEffect((function(){!i&&n&&o(!0)}),[i,n]),i}(),w=void 0===p||void 0===i||1===i.length||v,x=null!==(n=null==i?void 0:i.map((function(e){var t,n=o&&o.address===e.address;return Object.assign(Object.assign({},e),{balance:null!==(t=e.balance)&&void 0!==t?t:0,isHighlighted:n,opacity:o&&!n?.3:void 0,status:n?a:void 0,isDisabled:u,spinnerColor:"#f5841f"})})))&&void 0!==n?n:[],E=!!window.ethereum;return e(s).createElement(_n,null,d&&e(s).createElement(e(s).Fragment,null,e(s).createElement(fn.Header,{height:se.BRIDGE_HEADER_HEIGHT,justifyContent:"flex-start"},e(s).createElement(kt.MetamaskIcon,{width:26,height:24}),e(s).createElement(Pn,null,e(s).createElement(At.Text,{color:"white",size:16},we.formatHashMedium(d)))),e(s).createElement(Rn,null,e(s).createElement(dn.FullHeightLoadingContent,{isLoading:!!w,spinnerColor:"#F5841F"},e(s).createElement(wn,{rowProps:x,onSelect:function(e){var t=null==i?void 0:i.find((function(t){return t.address===e}));t&&r(t)}})))),e(s).createElement(St.PortalModal,{modalId:Tn,isOpen:y&&!d||!E,animateOnFirstRender:!1,headerHeight:0},e(s).createElement(On,{image:e(s).createElement(kt.MetamaskIcon,null),title:e(s).createElement(kt.MetamaskTextIcon,null),description:"Connect MetaMask to move tokens between Ethereum and Solana",buttonText:E?"Connect MetaMask":"MetaMask not detected",onClick:function(){g||d||Mn(void 0,void 0,void 0,e(he).mark((function t(){return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(ln,(function(e){b(jn(e))}));case 1:case"end":return e.stop()}}),t)}))),!g&&d&&f()},isButtonDisabled:!E,buttonTheme:"metamask"})),e(s).createElement("div",{id:Tn}))},Nn=(ae=o("cuInp"),s=o("yrqZm"),qe=o("5BN27"),mt=o("bGaWd"),se=o("1Wa82"),o("jj9QT")),Dn=(dn=o("j7d8I"),ae=o("cuInp"),s=o("yrqZm"),qe=o("5BN27"),o("1Qq0T")),Wn=(Te=o("1rSG6"),o("a71cc")),Bn=(kt=o("3u496"),o("dErWb"));function It(){var e=ae.taggedTemplateLiteral(["\n  background: #000000;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 6px;\n  padding: 10px 17px;\n  margin-top: 4px;\n  width: 250px;\n"]);return It=function(){return e},e}function Nt(){var e=ae.taggedTemplateLiteral(["\n  overflow: scroll;\n  max-height: ",";\n"]);return Nt=function(){return e},e}function Dt(){var e=ae.taggedTemplateLiteral(["\n  font-size: 16px;\n  padding: 7px 0px;\n  display: flex;\n  justify-content: space-between;\n  &[data-selected] {\n    background: inherit;\n    color: #666;\n    p {\n      color: #666;\n    }\n  }\n"]);return Dt=function(){return e},e}Ft=function(e){return e};var Fn=qe.default(Dn.MenuList)(Hn||(Hn=Ft(It()))),Ln=qe.default.div(Jn||(Jn=Ft(Nt(),0)),(function(e){return e.maxHeight})),qn=qe.default(Dn.MenuItem)(Zn||(Zn=Ft(Dt()))),Un=function(){var t=Te.useAccounts(),n=t.accountMetas,r=t.setSelectedAccountIndex,i=t.selectedAccountIndex;return e(s).createElement(Dn.Menu,null,(function(t){var o=t.isExpanded;return e(s).createElement(e(s).Fragment,null,e(s).createElement(Dn.MenuButton,{as:"span"},e(s).createElement(Bn.ChevronCircle,{$isExpanded:o,top:1},e(s).createElement(kt.DownChevronIcon,null))),e(s).createElement(Fn,null,e(s).createElement(Ln,{maxHeight:"330px"},n.map((function(t,n){return e(s).createElement(qn,{key:t.publicKey,onSelect:function(){return r(n)}},e(s).createElement(Wn.Address,{hoverColor:"#666"},t.publicKey),n===i&&e(s).createElement(kt.CheckmarkIcon,{width:11}))})))))}))};kt=o("3u496");function It(){var e=ae.taggedTemplateLiteral(["\n  padding: 20px;\n  height: 83%;\n"]);return It=function(){return e},e}Ft=function(e){return e};var Gn="phantom_island_modal",Vn=qe.default.div(Hn||(Hn=Ft(It()))),zn=function(t){var n,r=t.onAssetSelect,i=t.assets,o=t.highlightedAsset,a=t.highlightedAssetStatus,u=t.hideAccountsDropdown,c=t.isDisabled,l=mt.useFetchAssetsWithBalance(),d=null!==(n=null==i?void 0:i.map((function(e){var t,n=o&&o.address===e.address;return Object.assign(Object.assign({},e),{balance:null!==(t=e.balance)&&void 0!==t?t:0,isHighlighted:n,opacity:o&&!n||null===o?.3:void 0,status:n?a:void 0,isDisabled:c})})))&&void 0!==n?n:[];return e(s).createElement(_n,null,e(s).createElement(Nn.AccountHeader,{firstChild:e(s).createElement(kt.Logo,{width:28,height:28}),lastChild:u?e(s).createElement("div",null):e(s).createElement(Un,null),height:se.BRIDGE_HEADER_HEIGHT,leftAlignAddress:!0}),e(s).createElement(Vn,null,e(s).createElement(dn.FullHeightLoadingContent,{isLoading:!l.isFetched},e(s).createElement(wn,{rowProps:d,onSelect:function(e){var t=null==i?void 0:i.find((function(t){return t.address===e}));t&&r(t)}}))),e(s).createElement("div",{id:Gn}))};function It(){var e=ae.taggedTemplateLiteral(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return It=function(){return e},e}function Nt(){var e=ae.taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return Nt=function(){return e},e}function Dt(){var e=ae.taggedTemplateLiteral(["\n  width: 140px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  svg {\n    fill: #818593;\n  }\n"]);return Dt=function(){return e},e}Ft=function(e){return e};var Hn,Jn,Zn,Kn,Xn,Qn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))};(Xn=Kn||(Kn={})).EthereumAssetSymbol="ethereumAssetSymbol",Xn.SolanaAssetSymbol="solanaAssetSymbol";var $n,Yn=qe.default.main(Hn||(Hn=Ft(It()))),er=qe.default.div(Jn||(Jn=Ft(Nt()))),tr=qe.default.div(Zn||(Zn=Ft(Dt()))),nr="FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf",rr=($n={},ae.defineProperty($n,nr,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"),ae.defineProperty($n,"9w97GdWUYYaamGwdKMKZgGzPduZJkiFizq4rz5CPXRv2","0xdAC17F958D2ee523a2206206994597C13D831ec7"),ae.defineProperty($n,"FVsXUnbhifqJ4LiXQEbpUtXVdB8T5ADLKqSs5t1oc54F","0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"),$n),ir=e(Le)(rr),or=function(){var t,n,r,i,o,a,u,c,l,d,f,h,p=ae.slicedToArray(s.useState(void 0),2),v=p[0],m=p[1],g=ae.slicedToArray(s.useState(void 0),2),b=g[0],y=g[1],w=ae.slicedToArray(s.useState(void 0),2),x=w[0],E=w[1],_=ae.slicedToArray(s.useState(void 0),2),k=_[0],S=_[1],C=ae.slicedToArray(s.useState(void 0),2),A=C[0],O=C[1],M=function(){m(void 0),y(void 0),E(void 0)},T=null!=v?v:{},P=T.fromAsset,j=T.toAsset,I=null===(t=gt.useFetchConnection())||void 0===t?void 0:t.data,N=null==I?void 0:I.connection,D=ae.slicedToArray((c=14,l=ae.slicedToArray(s.useState(void 0),2),d=l[0],f=l[1],h=de().latestBlockNumber,[d&&h?Math.min(Math.max(h-d,0),c):void 0,function(e){h&&f(null!=e?e:h)}]),2),W=D[0],B=D[1],F=ae.slicedToArray(bt.useSolConfirmations(32,N),2),L=F[0],q=F[1],U=null===(n=mt.useFetchSolanaPrice())||void 0===n?void 0:n.usd,G=mt.useFetchSolanaBalance(),V=mt.useFetchAssetsWithMeta(),z=V.data,H=fe.useEthAssets(),J=H.assets,Z=H.ethPrice,K=H.gasPrice,X=H.refreshEthBalances,Q=Te.useSelectedAccount().accountClient,$=R(),Y=$.account,ee=$.library,te=null!==(r=null==z?void 0:z.reduce((function(e,t){return t.address&&rr[t.address]&&e.push(t),e}),[]))&&void 0!==r?r:[],re=null!=J?J:[];_t.useEffectOnce((function(){if(ee&&N){Qn(void 0,void 0,void 0,e(he).mark((function t(){var n,r,i,o,a;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht.fetchPendingTransferInfo(N,ee,te);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(r=n.parsedVaa,i=n.fromAsset,o=n.uiAmount,i){e.next=8;break}return e.abrupt("return");case 8:a=ar(i,re),S({vaa:r,asset:a,uiAmount:o});case 10:case"end":return e.stop()}}),t)})))}}),0!==te.length&&0!==re.length&&void 0===k&&void 0===A&&!!ee),_t.useEffectOnce((function(){var e=new URLSearchParams(window.location.search);if(e.get(Kn.EthereumAssetSymbol)){var t=re.find((function(e){return"ether"===e.isNativeOfType}));if(!t)return;var n=ar(t,te);if(!n)return;m({fromAsset:t,toAsset:n})}else{if(e.get(Kn.SolanaAssetSymbol)){var r=te.find((function(e){return"sol"===e.isNativeOfType}));if(!r)return;var i=ar(r,re);if(!i)return;m({fromAsset:r,toAsset:i})}}}),te.length>0&&re.length>1&&void 0===v);var ie=function(t,n){return Qn(void 0,void 0,void 0,e(he).mark((function r(){var i,o,a,s,u,c,l,d,f,h;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.fromAsset,o=n.toAsset,ee&&Y&&i&&o&&N){e.next=3;break}return e.abrupt("return");case 3:if(o.chain===ge.Chain.Solana&&i.chain===ge.Chain.Ethereum){e.next=5;break}throw new Error("Cannot bridge incompatible assets");case 5:if(y({toChain:ge.Chain.Solana,index:yt.TokenApproval,status:"loading",data:void 0}),a=we.uiAmountToAmount(t,i.decimals),e.prev=7,"ether"===i.isNativeOfType){e.next=16;break}return e.next=11,ht.bridgeHasApproval(ee,Y,i.address,a.toString());case 11:if(e.sent){e.next=16;break}return e.next=15,ht.maxApproveBridge(ee,i.address,{gasPrice:null==K?void 0:K.toString()});case 15:ne.analytics.capture("bridgeToSolanaTokenApprovalSuccess");case 16:e.next=24;break;case 18:return e.prev=18,e.t0=e.catch(7),console.error(e.t0),ne.analytics.capture("bridgeToSolanaTokenApprovalFailure"),y({toChain:ge.Chain.Solana,index:yt.TokenApproval,status:"failure",data:void 0}),e.abrupt("return");case 24:if(y({toChain:ge.Chain.Solana,index:yt.LockUp,status:"loading",data:void 0}),!o.isNativeOfType){e.next=27;break}throw new Error("Bridging Ethereum assets to SOL not supported");case 27:return e.prev=28,l=new ft.PublicKey(o.address),e.next=32,Q.findAssociatedTokenAccountAsync(l);case 32:if(c=e.sent){e.next=42;break}return e.t1=ae,e.next=37,Q.createAssociatedTokenAccountAsync(l);case 37:e.t2=e.sent,d=e.t1.slicedToArray.call(e.t1,e.t2,2),d[0],f=d[1],c=f;case 42:if("ether"===i.isNativeOfType){e.next=48;break}return e.next=45,ht.lockAssetsInBridge(ee,i.address,a,c,{gasPrice:null==K?void 0:K.toString()});case 45:u=e.sent,e.next=51;break;case 48:return e.next=50,ht.lockEthInBridge(ee,a,c,{gasPrice:null==K?void 0:K.toString()});case 50:u=e.sent;case 51:return e.next=53,u.wait(1);case 53:s=e.sent,ne.analytics.capture("bridgeToSolanaLockUpSuccess"),e.next=63;break;case 57:return e.prev=57,e.t3=e.catch(28),console.error(e.t3),ne.analytics.capture("bridgeToSolanaLockUpFailure"),y({toChain:ge.Chain.Solana,index:yt.LockUp,status:"failure",data:void 0}),e.abrupt("return");case 63:return y({toChain:ge.Chain.Solana,index:yt.AwaitConfirmations,status:"loading",data:void 0}),B(s.blockNumber),e.prev=66,e.next=69,u.wait(10);case 69:return h=pt.waitForAccountChange(N,c,18e4),e.next=72,u.wait(14);case 72:ne.analytics.capture("bridgeToSolanaConfirmationsSuccess"),e.next=80;break;case 75:e.prev=75,e.t4=e.catch(66),console.error(e.t4),ne.analytics.capture("bridgeToSolanaConfirmationsFailure"),y({toChain:ge.Chain.Solana,index:yt.AwaitConfirmations,status:"failure",data:void 0});case 80:return y({toChain:ge.Chain.Solana,index:yt.AwaitTransfer,status:"loading",data:void 0}),e.prev=81,e.next=84,h;case 84:ne.analytics.capture("bridgeToSolanaAwaitTransferSuccess",{asset:i,data:{uiAmount:t}}),e.next=91;break;case 87:e.prev=87,e.t5=e.catch(81),console.error(e.t5),ne.analytics.capture("bridgeToSolanaAwaitTransferFailure");case 91:return e.next=93,vt.delayAsync(5e3);case 93:V.refetch(),G.refetch(),y({toChain:ge.Chain.Solana,index:yt.Done,status:"success",data:void 0});case 96:case"end":return e.stop()}}),r,null,[[7,18],[28,57],[66,75],[81,87]])})))},oe=function(t,n,r){return Qn(void 0,void 0,void 0,e(he).mark((function i(){var o,a,s,u,c,l,d,f,h,p,v,m,g,b,w,x,E,_,k,S,C;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee&&Y&&N){e.next=2;break}return e.abrupt("return");case 2:if(o=n.toAsset,a=n.fromAsset,o.chain===ge.Chain.Ethereum&&a.chain===ge.Chain.Solana){e.next=5;break}throw new Error("Cannot bridge incompatible assets");case 5:if(!a.isNativeOfType){e.next=7;break}throw new Error("Bridging SOL not yet supported");case 7:if(!o.isNativeOfType){e.next=9;break}throw new Error("Bridging token to ETH not yet supported");case 9:if(s=a,u=o,c=r){e.next=35;break}return c={toChain:ge.Chain.Ethereum,index:wt.LockUp,status:"loading",data:void 0},y(c),l=we.uiAmountToAmount(t,s.decimals),d=new ft.PublicKey(s.address),e.prev=17,e.t0=ae,e.next=21,Q.lockInWormhole(d,l,Y,u.address,s.decimals);case 21:e.t1=e.sent,f=e.t0.slicedToArray.call(e.t0,e.t1,2),h=f[0],p=f[1],ne.analytics.capture("bridgeToEthereumLockUpSuccess"),c={toChain:ge.Chain.Ethereum,index:wt.AwaitConfirmations,status:"loading",data:[h,p]},e.next=35;break;case 29:return e.prev=29,e.t2=e.catch(17),console.error(e.t2),ne.analytics.capture("bridgeToEthereumLockUpFailure"),y({toChain:ge.Chain.Ethereum,index:wt.LockUp,status:"failure",data:void 0}),e.abrupt("return");case 35:if(c.index!==wt.AwaitConfirmations){e.next=56;break}return y(Object.assign(Object.assign({},c),{status:"loading"})),v=ae.slicedToArray(c.data,2),m=v[0],g=v[1],e.prev=38,e.next=41,Q.waitForTransactionConfirmationAsync(m);case 41:return b=e.sent,w=b.context.slot,x=ht.awaitVAA(N,g),e.next=46,q(w);case 46:ne.analytics.capture("bridgeToEthereumConfirmationsSuccess"),c={toChain:ge.Chain.Ethereum,index:wt.AwaitVaa,status:"loading",data:[x,g]},e.next=56;break;case 50:return e.prev=50,e.t3=e.catch(38),console.error(e.t3),ne.analytics.capture("bridgeToEthereumConfirmationsFailure"),y({toChain:ge.Chain.Ethereum,index:wt.AwaitConfirmations,status:"failure",data:[m,g]}),e.abrupt("return");case 56:if(c.index!==wt.AwaitVaa){e.next=84;break}return y(Object.assign(Object.assign({},c),{status:"loading"})),E=ae.slicedToArray(c.data,2),_=E[0],k=E[1],e.prev=59,e.prev=61,e.next=64,_;case 64:S=e.sent,e.next=70;break;case 67:e.prev=67,e.t4=e.catch(61),console.error(e.t4);case 70:if(S){e.next=74;break}return e.next=73,ht.fetchPendingVaa(N,ee,te);case 73:S=e.sent;case 74:ne.analytics.capture("bridgeToEthereumAwaitVaaSuccess"),c={toChain:ge.Chain.Ethereum,index:wt.ClaimAsset,status:"loading",data:S},e.next=84;break;case 78:return e.prev=78,e.t5=e.catch(59),console.error(e.t5),ne.analytics.capture("bridgeToEthereumAwaitVaaFailure"),y({toChain:ge.Chain.Ethereum,index:wt.AwaitVaa,status:"failure",data:[ht.awaitVAA(N,k,6e4),k]}),e.abrupt("return");case 84:if(c.index!==wt.ClaimAsset){e.next=102;break}return y(Object.assign(Object.assign({},c),{status:"loading"})),C=c.data,e.prev=87,e.next=90,ht.executeVAA(ee,C,{gasPrice:null==K?void 0:K.toString()});case 90:return e.next=92,vt.delayAsync(5e3);case 92:X(!1),ne.analytics.capture("bridgeToEthereumClaimAssetSuccess",{asset:a,data:{uiAmount:t}}),y({toChain:ge.Chain.Ethereum,index:wt.Done,status:"success",data:void 0}),e.next=102;break;case 97:e.prev=97,e.t6=e.catch(87),console.error(e.t6),ne.analytics.capture("bridgeToEthereumClaimAssetFailure"),y({toChain:ge.Chain.Ethereum,index:wt.ClaimAsset,status:"failure",data:C});case 102:case"end":return e.stop()}}),i,null,[[17,29],[38,50],[59,78],[61,67],[87,97]])})))},ue=(null==P?void 0:P.chain)===ge.Chain.Solana,ce=(null==P?void 0:P.chain)===ge.Chain.Ethereum,le=function(e){return K&&Z?we.amountToUiAmount(K.multipliedBy(e),18)*Z.usd:0},pe=le(45e3),ve=le(65e3),me=le(215e3),be=U?.04*U:1.5,ye=null==k?void 0:k.asset;return e(s).createElement(Yn,null,e(s).createElement(er,null,e(s).createElement(Zt.MetamaskIsland,{assets:re,highlightedAsset:ue?j:k?k.asset:void 0,highlightedAssetStatus:null!==(i=null==b?void 0:b.status)&&void 0!==i?i:A,isDisabled:void 0!==b||void 0!==A,onAssetSelect:function(e){var t=ar(e,te);ne.analytics.capture("bridgeSwapperOpen",{asset:e}),t&&m({fromAsset:e,toAsset:t})}}),e(s).createElement(tr,null,void 0===(null==P?void 0:P.chain)?e(s).createElement(kt.DoubleArrowsIcon,null):ue?e(s).createElement(kt.LeftArrowIcon,null):e(s).createElement(kt.RightArrowIcon,null)),e(s).createElement(zn,{assets:te,highlightedAsset:ce?j:void 0!==k?null:void 0,highlightedAssetStatus:null==b?void 0:b.status,hideAccountsDropdown:void 0!==b,isDisabled:void 0!==b||void 0!==k,onAssetSelect:function(e){var t=ar(e,re);ne.analytics.capture("bridgeSwapperOpen",{asset:e}),t&&m({fromAsset:e,toAsset:t})}})),e(s).createElement(St.PortalModal,{modalId:Zt.METAMASK_MODAL_ID,isOpen:ce,animateOnFirstRender:!1,headerHeight:se.BRIDGE_HEADER_HEIGHT},P&&j&&e(s).createElement(Ot.BridgeSwapper,{fromAsset:P,toAsset:j,price:1,totalFees:P.isNativeOfType?we.formatDollarAmount(ve):we.formatDollarAmount(ve+pe),bridgeStepInfos:[{name:"Approve token transfers",buttonText:"Waiting for approval..."},{name:"Lock tokens into wormhole",buttonText:"Waiting for approval..."},{name:"Wait for ".concat((null!==(o=null==b?void 0:b.index)&&void 0!==o?o:0)>yt.AwaitConfirmations?14:null!=W?W:0," / 14 confirmations"),buttonText:"Waiting for confirmations..."},{name:"Wait for SPL token transfer",buttonText:"Waiting for transfer..."}],onConvertClick:function(e){E(e),v&&ie(e,v)},fromAssetAmount:x,topInputLabel:"From Metamask",bottomInputLabel:"To Phantom",onBackClick:function(){return y(void 0)},currentBridgeStep:b,onCancelClick:M,onBridgeRetry:function(){return v&&x&&ie(x,v)},onClose:M,buttonTheme:"metamask",spinnerColor:"#f5841f",feeBreakdown:P.isNativeOfType?[{label:"Ethereum Network",value:we.formatDollarAmount(ve)}]:[{label:"One-time token approval",value:we.formatDollarAmount(pe)},{label:"Ethereum Network",value:we.formatDollarAmount(ve)}]})),e(s).createElement(St.PortalModal,{modalId:Gn,isOpen:ue,animateOnFirstRender:!1,headerHeight:se.BRIDGE_HEADER_HEIGHT},P&&j&&e(s).createElement(Ot.BridgeSwapper,{fromAsset:P,toAsset:j,price:1,totalFees:we.formatDollarAmount(be+me),bridgeStepInfos:[{name:"Lock tokens into wormhole",buttonText:"Waiting for completion..."},{name:"Wait for ".concat((null!==(a=null==b?void 0:b.index)&&void 0!==a?a:0)>wt.AwaitConfirmations?32:null!=L?L:0," / 32 confirmations"),buttonText:"Waiting for confirmations..."},{name:"Wait for lock up proof",buttonText:"Waiting for proof..."},{name:"Claim ".concat(null!==(u=j.symbol)&&void 0!==u?u:"asset"," on Ethereum"),buttonText:"Waiting for approval..."}],onConvertClick:function(e){E(e),v&&oe(e,v)},fromAssetAmount:x,topInputLabel:"From Phantom",bottomInputLabel:"To Metamask",onBackClick:function(){return y(void 0)},currentBridgeStep:b,onBridgeRetry:function(){x&&v&&b&&b.toChain===ge.Chain.Ethereum&&oe(x,v,b)},onClose:M,onCancelClick:M,feeBreakdown:[{label:"Solana Network",value:we.formatDollarAmount(be)},{label:"Ethereum Network",value:we.formatDollarAmount(me)}]})),e(s).createElement(St.PortalModal,{modalId:Zt.METAMASK_MODAL_ID,isOpen:!!k&&!A,animateOnFirstRender:!1,headerHeight:0},k&&e(s).createElement(On,{image:e(s).createElement(Ct.TokenImage,{iconUrl:null==ye?void 0:ye.iconUrl,width:80,questionMarkWidth:80}),title:e(s).createElement(At.Text,{color:"#FFF",size:30,weight:500},"Claim ".concat(k.uiAmount," ").concat(null==ye?void 0:ye.symbol)," "),description:"You still have ".concat(k.uiAmount," ").concat(null==ye?void 0:ye.symbol," that didnt finish converting over from Phantom"),buttonText:"Claim ".concat(k.uiAmount," ").concat(null==ye?void 0:ye.symbol),onClick:function(){return t=k,Qn(void 0,void 0,void 0,e(he).mark((function n(){var r,i,o;return e(he).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.vaa,i=t.asset,o=t.uiAmount,ee){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,O("loading"),e.next=7,ht.executeVAA(ee,r,{gasPrice:null==K?void 0:K.toString()});case 7:return e.next=9,vt.delayAsync(5e3);case 9:return X(!1),O("success"),ne.analytics.capture("bridgeToEthereumReClaimAssetSuccess",{asset:i,data:{uiAmount:o}}),e.next=14,vt.delayAsync(5e3);case 14:S(void 0),O(void 0),e.next=26;break;case 18:return e.prev=18,e.t0=e.catch(3),console.error(e.t0),O("failure"),ne.analytics.capture("bridgeToEthereumReClaimAssetFailure"),e.next=25,vt.delayAsync(3e3);case 25:O(void 0);case 26:case"end":return e.stop()}}),n,null,[[3,18]])})));var t},isButtonDisabled:!1,buttonTheme:"metamask"})))},ar=function(e,t){if(e.chain===ge.Chain.Solana){if(e.isNativeOfType)throw new Error("Bridging SOL to Ethereum is not supported");return t.find((function(t){return t.address===rr[e.address]}))}if(e.chain===ge.Chain.Ethereum)return e.isNativeOfType?t.find((function(e){return e.address===nr})):t.find((function(t){return t.address===ir[e.address]}))};te.initSentry();var sr=function(e){return new ee.Web3Provider(e)},ur=function(){var t=s.useCallback((function(t){return e(s).createElement(Re.ModalsProvider,null,e(s).createElement(Pe.WalletMenuProvider,null,e(s).createElement(We.Unlock,{isFullScreen:!0,unlockSeedAndMnemonic:t})))}),[]),n=s.useCallback((function(){re.openTabAsync({url:"onboarding.html"}),window.close()}),[]);return e(s).createElement(De.SentryErrorBoundary,null,e(s).createElement(ie.ThemedGlobalStyle,{backgroundColor:"#2C2D30"}),e(s).createElement(Ne.BannerProvider,null,e(s).createElement(Ie.QueryProvider,null,e(s).createElement(Be.FullPageHeader,null),e(s).createElement(je.FeatureFlagsProvider,null,e(s).createElement(P,{getLibrary:sr},e(s).createElement(oe.SeedProvider,{renderLocked:t,openOnboarding:n},e(s).createElement(le,null,e(s).createElement(fe.EthAssetsProvider,null,e(s).createElement(Te.AccountsProvider,null,e(s).createElement(Fe.BridgeFlow,null))))))))))},cr=e(j)();window.ethereum=cr,cr.on("error",(function(){window.ethereum=null})),ne.analytics.capture("bridgeOpen"),u.render(e(s).createElement(ur,null),document.getElementById("root"))}();define=__define;})(window.define);