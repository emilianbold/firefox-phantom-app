(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequirea886;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequirea886=a),a.register("cFjyR",(function(t,n){e(t.exports,"Main",(function(){return f}));var r=a("cuInp"),o=a("5BN27"),u=a("1Wa82"),i=a("bgo6t");function c(){var e=r.taggedTemplateLiteral(["\n  background-color: #222222;\n  min-width: ","px;\n  min-height: ","px;\n  height: 100vh;\n  width: 100vw;\n  ","\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n  ","\n"]);return c=function(){return e},e}var s,f=o.default.div(s||(s=c()),u.PHANTOM_WIDTH,u.PHANTOM_HEIGHT,(function(e){return e.withBorder&&u.BROWSER_ENV.browser.name!==i.BROWSER_MAP.safari?"border: 1px solid #323232;":""}),u.BROWSER_ENV.browser.name===i.BROWSER_MAP.firefox?"border-radius: 8px;":"")})),a.register("2vDhy",(function(n,r){e(n.exports,"useRootGroupEffect",(function(){return x}),(function(e){return x=e})),e(n.exports,"useCaptureOpen",(function(){return y}),(function(e){return y=e}));var o=a("1vgyn"),u=a("yrqZm"),i=a("226dB"),c=a("hYuzo"),s=a("a9P2W"),f=a("j040j"),p=a("fVAzy"),l=a("jo38i"),d=a("8fnAG"),h=a("9LC0v"),g=a("hBPi9"),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,i)}c((r=r.apply(e,t||[])).next())}))},x=function(){var e=f.useFeatureFlags().isRootGroupEnabled;!function(e){var n=l.useStoreStorageValue(i.StorageKeys.RootHashes).mutateAsync,r=l.useClearStorageValue(i.StorageKeys.RootHashes).mutateAsync,a=u.useCallback((function(){return v(void 0,void 0,void 0,t(o).mark((function a(){var u,i,c,f,p;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.getMnemonic();case 3:if(u=t.sent,e&&u){t.next=7;break}return r(),t.abrupt("return");case 7:t.t0=u.type,t.next="bip39"===t.t0?10:"deprecated"===t.t0?16:22;break;case 10:return i=u.value.getEntropy(),c=s.genRootHash(i),i.fill(0),t.next=15,n([c]);case 15:return t.abrupt("break",22);case 16:return f=g.mnemonicToEntropy(u.value),p=s.genRootHash(f),f.fill(0),t.next=21,n([p]);case 21:return t.abrupt("break",22);case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(0),r();case 27:case"end":return t.stop()}}),a,null,[[0,24]])})))}),[e,n,r]);u.useEffect((function(){a()}),[a])}(e),function(e){var n=l.useFetchStorageValue(i.StorageKeys.RootHashes).data,r=l.useStoreStorageValue(i.StorageKeys.RootGroup).mutateAsync,a=l.useClearStorageValue(i.StorageKeys.RootGroup).mutateAsync,s=u.useCallback((function(){return v(void 0,void 0,void 0,t(o).mark((function u(){var i,s;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null!=n?n:[],e&&i.length){t.next=5;break}return a(),t.abrupt("return");case 5:return t.next=7,c.fetchRootGroup(i);case 7:return s=t.sent.rootGroup,t.next=10,r(s);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a();case 15:case"end":return t.stop()}}),u,null,[[0,12]])})))}),[n,r,a]);u.useEffect((function(){s()}),[s])}(e),function(e){var t=l.useFetchStorageValue(i.StorageKeys.RootGroup).data,n=u.useCallback((function(){var n="";e&&(n=null!=t?t:""),n&&p.analytics.assignGroup("rootGroup",n)}),[t]);u.useEffect((function(){n()}),[n])}(e)},y=function(e,n){var r=u.useCallback((function(){return v(void 0,void 0,void 0,t(o).mark((function r(){var a;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getStorageValue(i.StorageKeys.RootGroup);case 2:a=t.sent,p.analytics.assignGroup("rootGroup",null!=a?a:""),p.analytics.capture(e,n);case 5:case"end":return t.stop()}}),r)})))}),[e,n]);u.useEffect((function(){r()}),[r])}})),a.register("hYuzo",(function(n,r){e(n.exports,"fetchRootGroup",(function(){return l}),(function(e){return l=e}));var o=a("cuInp"),u=a("1vgyn"),i=a("6CCmb"),c=a("9Qkis"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,i)}c((r=r.apply(e,t||[])).next())}))},f="fb25ad6d-1a0d-4238-a329-2394017625ef",p={Accept:"application/json","Content-Type":"application/json","root-group-api-key":f},l=function(e){return s(void 0,void 0,void 0,t(u).mark((function n(){var r,a;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.length){t.next=2;break}throw new Error("Must have Root Group API key before fetching.");case 2:if(e.length){t.next=4;break}throw new Error("Must send at least 1 root hash.");case 4:return t.next=6,fetch("".concat("".concat(i.getAPIEnvironment(),"/root_group/v1")),{method:"POST",headers:p,body:JSON.stringify(o.defineProperty({},"root_hashes",e))});case 6:return r=t.sent,t.next=9,r.json();case 9:if(a=t.sent,200===r.status){t.next=14;break}if(!c.isErrorResponse(a)){t.next=13;break}throw new Error(a.message);case 13:throw new Error("Unable to fetch root group with root hashes: ".concat(e.toString()));case 14:if(!(n=a)||"string"!=typeof n.root_group){t.next=16;break}return t.abrupt("return",{rootGroup:a.root_group});case 16:throw new Error("Invalid root group response: ".concat(null==a?void 0:a.toString()));case 17:case"end":return t.stop()}var n}),n)})))}})),a.register("9Qkis",(function(t,n){e(t.exports,"isErrorResponse",(function(){return r}));var r=function(e){return!!e&&"string"==typeof e.message}})),a.register("a9P2W",(function(t,n){e(t.exports,"genRootHash",(function(){return u}));var r=a("dBiie"),o=new Set([16,20,24,28,32]);function u(e){if(!o.has(e.length))throw Error("Incorrect data length for RootHash:".concat(e.length));return r.sha256(r.sha256(e)).slice(2,34)}}))}();define=__define;})(window.define);