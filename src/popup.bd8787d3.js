(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},r=t.parcelRequirea886;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequirea886=r),r.register("6mzlH",(function(t,o){e(t.exports,"Main",(function(){return u}));var n=r("hHMPk"),a=r("4yWCU"),i=r("fCuks");const u=n.default.div`
  background-color: #222222;
  min-width: ${a.PHANTOM_WIDTH}px;
  min-height: ${a.PHANTOM_HEIGHT}px;
  height: 100vh;
  width: 100vw;
  ${e=>e.withBorder&&a.BROWSER_ENV.browser.name!==i.BROWSER_MAP.safari?"border: 1px solid #323232;":""}
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  ${a.BROWSER_ENV.browser.name===i.BROWSER_MAP.firefox?"border-radius: 8px;":""}
`})),r.register("3JoTt",(function(t,o){e(t.exports,"useRootGroupEffect",(function(){return g}),(function(e){return g=e})),e(t.exports,"useCaptureOpen",(function(){return y}),(function(e){return y=e}));var n=r("aZikt"),a=r("lwple"),i=r("dODMx"),u=r("8x0K0"),s=r("ixd3d"),c=r("8C6BZ"),l=r("02ZG7"),f=r("czDD7"),d=r("aF4zF"),p=r("3XPpL"),h=function(e,t,o,n){return new(o||(o=Promise))((function(r,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function u(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,u)}s((n=n.apply(e,t||[])).next())}))};const g=()=>{const{isRootGroupEnabled:e}=s.useFeatureFlags();(e=>{const{mutateAsync:t}=l.useStoreStorageValue(a.StorageKeys.RootHashes),{mutateAsync:o}=l.useClearStorageValue(a.StorageKeys.RootHashes),r=n.useCallback((()=>h(void 0,void 0,void 0,(function*(){try{const n=yield d.getMnemonic();if(!e||!n)return void o();switch(n.type){case"bip39":{const e=n.value.getEntropy(),o=u.genRootHash(e);e.fill(0),yield t([o]);break}case"deprecated":{const e=p.mnemonicToEntropy(n.value),o=u.genRootHash(e);e.fill(0),yield t([o]);break}}}catch(e){o()}}))),[e,t,o]);n.useEffect((()=>{r()}),[r])})(e),(e=>{const{data:t}=l.useFetchStorageValue(a.StorageKeys.RootHashes),{mutateAsync:o}=l.useStoreStorageValue(a.StorageKeys.RootGroup),{mutateAsync:r}=l.useClearStorageValue(a.StorageKeys.RootGroup),u=n.useCallback((()=>h(void 0,void 0,void 0,(function*(){try{const n=null!=t?t:[];if(!e||!n.length)return void r();const a=(yield i.fetchRootGroup(n)).rootGroup;yield o(a)}catch(e){r()}}))),[t,o,r]);n.useEffect((()=>{u()}),[u])})(e),(e=>{const{data:t}=l.useFetchStorageValue(a.StorageKeys.RootGroup),o=n.useCallback((()=>{let o="";e&&(o=null!=t?t:""),c.analytics.assignGroup("rootGroup",o)}),[t]);n.useEffect((()=>{o()}),[o])})(e)},y=(e,t)=>{const o=n.useCallback((()=>h(void 0,void 0,void 0,(function*(){const o=yield f.getStorageValue(a.StorageKeys.RootGroup);c.analytics.assignGroup("rootGroup",null!=o?o:""),c.analytics.capture(e,t)}))),[e,t]);n.useEffect((()=>{o()}),[o])}})),r.register("dODMx",(function(t,o){e(t.exports,"fetchRootGroup",(function(){return s}),(function(e){return s=e}));var n,a=r("jEn2x"),i=function(e,t,o,n){return new(o||(o=Promise))((function(r,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function u(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,u)}s((n=n.apply(e,t||[])).next())}))};const u={Accept:"application/json","Content-Type":"application/json","root-group-api-key":(n="fb25ad6d-1a0d-4238-a329-2394017625ef",n)},s=e=>i(void 0,void 0,void 0,(function*(){if(!e.length)throw new Error("Must send at least 1 root hash.");const t=yield fetch(`${a.getAPIEnvironment()}/root_group/v1`,{method:"POST",headers:u,body:JSON.stringify({root_hashes:e})}),o=yield t.json();if(200!==t.status){if((n=o)&&"string"==typeof n.message)throw new Error(o.message);throw new Error(`Unable to fetch root group with root hashes: ${e.toString()}`)}var n;if((e=>!!e&&"string"==typeof e.root_group)(o))return{rootGroup:o.root_group};throw new Error(`Invalid root group response: ${null==o?void 0:o.toString()}`)}))})),r.register("8x0K0",(function(t,o){e(t.exports,"genRootHash",(function(){return i}));var n=r("lkm1S");const a=new Set([16,20,24,28,32]);function i(e){if(!a.has(e.length))throw Error(`Incorrect data length for RootHash:${e.length}`);return n.sha256(n.sha256(e)).slice(2,34)}}));define=__define;})(window.define);