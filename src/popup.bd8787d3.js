(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);function e(e,o,t,r){Object.defineProperty(e,o,{get:t,set:r,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=o.parcelRequirea886;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,o){r[e]=o},o.parcelRequirea886=n),n.register("6mzlH",(function(o,t){e(o.exports,"Main",(function(){return s}));var r=n("hHMPk"),i=n("4yWCU"),a=n("fCuks");const s=r.default.div`
  background-color: #222222;
  min-width: ${i.PHANTOM_WIDTH}px;
  min-height: ${i.PHANTOM_HEIGHT}px;
  height: 100vh;
  width: 100vw;
  ${e=>e.withBorder&&i.BROWSER_ENV.browser.name!==a.BROWSER_MAP.safari?"border: 1px solid #323232;":""}
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  ${i.BROWSER_ENV.browser.name===a.BROWSER_MAP.firefox?"border-radius: 8px;":""}
`})),n.register("3JoTt",(function(o,t){e(o.exports,"useRootGroupEffect",(function(){return g}),(function(e){return g=e})),e(o.exports,"useCaptureOpen",(function(){return y}),(function(e){return y=e}));var r=n("aZikt"),i=n("lwple"),a=n("dODMx"),s=n("8x0K0"),u=n("ixd3d"),c=n("8C6BZ"),l=n("02ZG7"),f=n("czDD7"),d=n("aF4zF"),p=n("3XPpL"),h=function(e,o,t,r){return new(t||(t=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var o;e.done?n(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(a,s)}u((r=r.apply(e,o||[])).next())}))};const g=()=>{const{isRootGroupEnabled:e}=u.useFeatureFlags();(e=>{const{mutateAsync:o}=l.useStoreStorageValue(i.StorageKeys.RootHashes),{mutateAsync:t}=l.useClearStorageValue(i.StorageKeys.RootHashes),n=r.useCallback((()=>h(void 0,void 0,void 0,(function*(){try{const r=yield d.getMnemonic();if(!e||!r)return void t();switch(r.type){case"bip39":{const e=r.value.getEntropy(),t=s.genRootHash(e);e.fill(0),yield o([t]);break}case"deprecated":{const e=p.mnemonicToEntropy(r.value),t=s.genRootHash(e);e.fill(0),yield o([t]);break}}}catch(e){t()}}))),[e,o,t]);r.useEffect((()=>{n()}),[n])})(e),(e=>{const{data:o}=l.useFetchStorageValue(i.StorageKeys.RootHashes),{mutateAsync:t}=l.useStoreStorageValue(i.StorageKeys.RootGroup),{mutateAsync:n}=l.useClearStorageValue(i.StorageKeys.RootGroup),s=r.useCallback((()=>h(void 0,void 0,void 0,(function*(){try{const r=null!=o?o:[];if(!e||!r.length)return void n();const i=(yield a.fetchRootGroup(r)).rootGroup;yield t(i)}catch(e){n()}}))),[o,t,n]);r.useEffect((()=>{s()}),[s])})(e),(e=>{const{data:o}=l.useFetchStorageValue(i.StorageKeys.RootGroup),t=r.useCallback((()=>{let t="";e&&(t=null!=o?o:""),t&&c.analytics.assignGroup("rootGroup",t)}),[o]);r.useEffect((()=>{t()}),[t])})(e)},y=(e,o)=>{const t=r.useCallback((()=>h(void 0,void 0,void 0,(function*(){const t=yield f.getStorageValue(i.StorageKeys.RootGroup);c.analytics.assignGroup("rootGroup",null!=t?t:""),c.analytics.capture(e,o)}))),[e,o]);r.useEffect((()=>{t()}),[t])}})),n.register("dODMx",(function(o,t){e(o.exports,"fetchRootGroup",(function(){return c}),(function(e){return c=e}));var r=n("jEn2x"),i=n("lUIcg"),a=function(e,o,t,r){return new(t||(t=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var o;e.done?n(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(a,s)}u((r=r.apply(e,o||[])).next())}))};const s="fb25ad6d-1a0d-4238-a329-2394017625ef",u={Accept:"application/json","Content-Type":"application/json","root-group-api-key":s},c=e=>a(void 0,void 0,void 0,(function*(){if(!s.length)throw new Error("Must have Root Group API key before fetching.");if(!e.length)throw new Error("Must send at least 1 root hash.");const o=yield fetch(`${r.getAPIEnvironment()}/root_group/v1`,{method:"POST",headers:u,body:JSON.stringify({root_hashes:e})}),t=yield o.json();if(200!==o.status){if(i.isErrorResponse(t))throw new Error(t.message);throw new Error(`Unable to fetch root group with root hashes: ${e.toString()}`)}if((n=t)&&"string"==typeof n.root_group)return{rootGroup:t.root_group};var n;throw new Error(`Invalid root group response: ${null==t?void 0:t.toString()}`)}))})),n.register("lUIcg",(function(o,t){e(o.exports,"isErrorResponse",(function(){return r}));const r=e=>!!e&&"string"==typeof e.message})),n.register("8x0K0",(function(o,t){e(o.exports,"genRootHash",(function(){return a}));var r=n("lkm1S");const i=new Set([16,20,24,28,32]);function a(e){if(!i.has(e.length))throw Error(`Incorrect data length for RootHash:${e.length}`);return r.sha256(r.sha256(e)).slice(2,34)}}));define=__define;})(window.define);